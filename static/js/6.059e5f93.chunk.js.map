{"version":3,"sources":["utils/router.utils.ts","components/FormDialog.tsx","components/ImageWrapper.tsx","modules/Chatter/index.ts","modules/RoomCreate/components/RoomCreateForm.tsx","modules/RoomCreate/RoomCreate.tsx","routes/Room/RoomPage/RoomPage.enhancer.tsx","modules/LogsDashboard/components/LogsListItem.tsx","modules/LogsDashboard/components/LogDiceThrow.tsx","modules/LogsDashboard/components/LogNewPlayer.tsx","modules/LogsDashboard/components/LogsTimeline.tsx","modules/LogsDashboard/components/LogsExpansion.tsx","modules/LogsDashboard/components/LogsByPlayers.tsx","modules/LogsDashboard/components/LogsTabs.tsx","modules/LogsDashboard/LogsDashboard.tsx","modules/Players/components/PlayerTile.tsx","modules/Players/components/PlayerProfileForm.tsx","modules/Players/components/PlayerProfile.tsx","modules/Players/Players.tsx","components/SpeedDial.tsx","containers/RoomCreateInRoom.tsx","routes/Room/RoomPage/components/RoomSpeedDial.tsx","routes/Room/RoomPage/components/RoomPageView.tsx","routes/Room/RoomPage/index.ts","routes/Room/RoomPage/RoomPage.tsx"],"names":["locationHelper","locationHelperBuilder","history","createBrowserHistory","UserIsAuthenticated","connectedRouterRedirect","redirectPath","RouterPath","HOME_PATH","AuthenticatingComponent","Loader","wrapperDisplayName","authenticatedSelector","firebaseSelectors","isAuthenticated","authenticatingSelector","redirectAction","newLoc","dispatch","push","type","payload","message","allowRedirectBack","state","firebase","auth","isEmpty","isInitializing","isLoaded","ownProps","getRedirectQueryParam","ROOMS_PATH","FormDialog","props","open","onClose","children","title","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","aria-labelledby","styles","createStyles","image","width","height","backgroundPosition","backgroundSize","useStyles","makeStyles","ImageWrapper","React","memo","src","classes","in","length","className","Chatter","lazy","RoomCreateForm","reduxForm","form","validate","values","errors","createRoomFormModel","roomName","name","maxPlayers","forEach","field","Object","keys","fieldKey","maxLength","diceType","handleSubmit","pristine","submitting","invalid","useSelector","mainSelectors","getFormCreateRoom","onSubmit","roomImage","DialogContent","dividers","campaignTitle","description","gameMasterAvatar","style","DialogActions","Button","color","disabled","onClick","RoomCreate","initialValues","prev","next","equal","enhancedRoomList","compose","setDisplayName","withRouter","LogsListItem","withStyles","itemHeader","paddingRight","spacing","boxSizing","itemContent","profile","log","displayName","photoURL","avatarUrl","characterAvatarUrl","characterName","ListItem","alignItems","ListItemAvatar","Avatar","alt","ListItemText","primary","Grid","container","direction","justify","Typography","component","variant","dateUtils","timeStampToDetailedTime","timestamp","LogDiceThrow","resultSorted","diceUtils","sortObjectWithDiceKey","result","item","xs","map","diceKey","Fragment","key","join","LogNewPlayer","LogsTimeline","root","backgroundColor","palette","background","paper","overflowY","profiles","logs","List","reverse","id","Divider","light","authorUid","Log","DICE_ROLL","NEW_PLAYER","LogsExpansion","ExpansionPanel","elevation","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","renderlog","LogsByPlayers","profileUid","filter","LogsTabs","position","zIndex","overflow","bar","borderBottom","tab","overflowX","tabContent","margin","visible","useState","value","setValue","firestoreSelectors","selectedRoomPlayers","selectedRoomLogs","Slide","Paper","AppBar","Tabs","onChange","event","newValue","indicatorColor","textColor","aria-label","Tab","label","a11yProps","axis","index","onChangeIndex","TabPanel","dir","other","role","hidden","Box","p","LogsDashboard","top","left","PlayerTile","tile","borderRadius","marginRight","maxWidth","padding","titleDisable","warning","actionGrid","right","titleBar","player","onEdit","GridListTile","GridListTileBar","connected","actionIcon","Tooltip","IconButton","gameMaster","clsx","uid","PlayerProfileForm","playersCharacterFormModel","getFormPlayerProfile","characterDescription","notes","PlayerProfile","firestore","useFirestore","selectedRoomUid","roomsSelectors","selectedRoom","Toast","useContext","ToastContext","players","formValues","undefined","doc","FirestoreCollection","ROOMS","update","then","room","e","setSnackbarConfig","SnackbarType","ERROR","text","Players","display","flexWrap","justifyContent","gridList","transform","usersProfiles","userProfile","gameMasterUid","selectedRoomGameMasterUid","editProfile","setEditProfile","GridList","cols","playerUid","Grow","timeout","SpeedDialWrapper","actions","setOpen","handleClose","SpeedDial","ariaLabel","icon","SpeedDialIcon","onOpen","action","SpeedDialAction","tooltipTitle","callback","RoomCreateInRoom","selectedRoomFormData","RoomSpeedDialWrapper","useDispatch","isGameMasterOfSelectedRoom","drawerOpened","chatOpened","playersOpened","showRoomForm","setShowRoomForm","actionsAdditional","cb","roomsActions","setDrawerOpenValue","setChatOpenValue","setPlayersOpenValue","navigator","permissions","query","clipboard","writeText","window","location","href","SUCCESS","mainGrid","gridTemplateColumns","gridTemplateRows","columnGap","rowGap","gridItemLogs","gridColumn","gridRow","gridItemChatter","gridItemDiceCard","gridItemPlayers","speedDial","bottom","diceDashboard","maxHeight","transition","noHeight","RoomView","diceRolling","isUserARoomPlayerOrGameMaster","diceCardFullHeight","DiceCard","DiceDashboard","match","selectedRoomData","storeLocationMatch","locationSelectors","useEffect","JSON","stringify","locationActions","matchChange","setSelectedRoom","params","WARNING","documentRef","runTransaction","t","get","Date","now","data","email","playersUid","err","onEnterTheRoomAddUserToPlayers","createdAt","chatsActions","setSelectedChat","chatUid"],"mappings":"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","file":"static/js/6.059e5f93.chunk.js","sourcesContent":["import locationHelperBuilder from 'redux-auth-wrapper/history4/locationHelper';\nimport { connectedRouterRedirect } from 'redux-auth-wrapper/history4/redirect';\nimport { createBrowserHistory } from 'history';\nimport { RouterPath } from '../models/paths';\n\nimport { AppState } from '../store/main';\nimport { firebaseSelectors } from '../store/firebase/firebase.selectors';\nimport { Loader } from '../components/Loader';\n\nconst locationHelper = locationHelperBuilder({});\nconst history = createBrowserHistory();\n\nconst AUTHED_REDIRECT = 'AUTHED_REDIRECT';\nconst UNAUTHED_REDIRECT = 'UNAUTHED_REDIRECT';\n\n/**\n * Higher Order Component that redirects to `/login` instead\n * rendering if user is not authenticated (default of redux-auth-wrapper).\n * @param {Component} componentToWrap - Component to wrap\n * @return {Component} wrappedComponent\n */\nexport const UserIsAuthenticated = connectedRouterRedirect({\n  redirectPath: RouterPath.HOME_PATH,\n  AuthenticatingComponent: Loader,\n  wrapperDisplayName: 'UserIsAuthenticated',\n  // Want to redirect the user when they are done loading and authenticated\n  authenticatedSelector: firebaseSelectors.isAuthenticated,\n  authenticatingSelector: firebaseSelectors.authenticatingSelector,\n  redirectAction: ((newLoc: any) => (dispatch: any) => {\n    // Use push, replace, and go to navigate around.\n    history.push(newLoc);\n    dispatch({\n      type: UNAUTHED_REDIRECT,\n      payload: { message: 'User is not authenticated.' },\n    });\n  }) as any,\n});\n\n/**\n * Higher Order Component that redirects to listings page or most\n * recent route instead rendering if user is not authenticated. This is useful\n * routes that should not be displayed if a user is logged in, such as the\n * login route.\n * @param {Component} componentToWrap - Component to wrap\n * @return {Component} wrappedComponent\n */\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\n  AuthenticatingComponent: Loader,\n  wrapperDisplayName: 'UserIsNotAuthenticated',\n  allowRedirectBack: false,\n  // Want to redirect the user when they are done loading and authenticated\n  authenticatedSelector: (state: AppState) => {\n    const {\n      firebase: { auth },\n    } = state;\n    return auth.isEmpty;\n  },\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) => !auth.isLoaded || isInitializing,\n  redirectPath: (state, ownProps) => locationHelper.getRedirectQueryParam(ownProps) || RouterPath.ROOMS_PATH,\n  redirectAction: ((newLoc: any) => (dispatch: any) => {\n    // Use push, replace, and go to navigate around.\n    history.push(newLoc);\n    dispatch({\n      type: AUTHED_REDIRECT,\n      payload: { message: 'User is not authenticated.' },\n    });\n  }) as any,\n});\n\n/*\n/!**\n * Render children based on route config objects\n * @param {Array} routes - Routes settings array\n * @param {Object} match - Routes settings array\n * @param {Object} parentProps - Props to pass to children from parent\n *!/\nexport function renderChildren(routes, match, parentProps) {\n  return routes.map(route => (\n    <Route\n      key={`${match.url}-${route.path}`}\n      path={`${match.url}/${route.path}`}\n      render={props => <route.component {...parentProps} {...props} />}\n    />\n  ));\n}*/\n","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Dialog, DialogTitle, useMediaQuery } from '@material-ui/core';\n\nexport interface FormDialogProps<T> {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  children: any;\n}\n\nexport function FormDialog<T = any>(props: FormDialogProps<T>) {\n  const { open, onClose, children = [], title } = props;\n\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('xs'));\n\n  return (\n    <Dialog fullScreen={fullScreen} open={open} onClose={onClose} aria-labelledby=\"responsive-dialog-title\">\n      <DialogTitle>{title}</DialogTitle>\n      {children}\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport { CardMedia, Collapse, createStyles } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst styles = createStyles({\n  image: {\n    width: '100%',\n    height: '25vh',\n    backgroundPosition: 'top',\n    backgroundSize: 'cover',\n  },\n});\n\ninterface ImageWrapperProps {\n  src: string;\n  title: string;\n}\n\nconst useStyles = makeStyles(styles);\n\nfunction ImageWrapperC(props: ImageWrapperProps) {\n  const { src = '', title } = props;\n  const classes = useStyles();\n\n  return (\n    <Collapse in={src.length > 8}>{src && <CardMedia className={classes.image} image={src} title={title} />}</Collapse>\n  );\n}\nexport const ImageWrapper = React.memo(ImageWrapperC);\n","import React from 'react';\n\nexport const Chatter = React.lazy(() => import('./Chatter'));\n","import React from 'react';\nimport { Button, DialogActions, DialogContent } from '@material-ui/core';\nimport { InjectedFormProps, reduxForm } from 'redux-form';\nimport { useSelector } from 'react-redux';\n\nimport { createRoomFormModel } from '../../../models/rooms.model';\nimport { FormFieldCheckboxGroup, FormFieldText } from '../../../components/FormComponents';\nimport { ImageWrapper } from '../../../components/ImageWrapper';\nimport { mainSelectors } from '../../../store/main.selectors';\n\nconst validate = (values: any) => {\n  const errors: any = {};\n\n  [createRoomFormModel.roomName.name, createRoomFormModel.maxPlayers.name].forEach(field => {\n    if (!values[field]) {\n      errors[field] = 'Required';\n    }\n  });\n\n  Object.keys(createRoomFormModel).forEach(fieldKey => {\n    if (\n      createRoomFormModel[fieldKey].maxLength &&\n      values[createRoomFormModel[fieldKey].name]?.length > createRoomFormModel[fieldKey].maxLength\n    ) {\n      errors[fieldKey] = `Max length ${createRoomFormModel[fieldKey].maxLength} exceeded`;\n    }\n  });\n\n  if (!(values[createRoomFormModel.diceType.name] && values[createRoomFormModel.diceType.name].length)) {\n    errors[createRoomFormModel.diceType.name] = 'Select at least one dice';\n  }\n  return errors;\n};\n\ninterface RoomCreateFormProps extends InjectedFormProps {\n  onClose: () => void;\n}\n\nfunction RoomCreateFormC(props: RoomCreateFormProps) {\n  const { handleSubmit, pristine, submitting, onClose, invalid } = props;\n  const form = useSelector(mainSelectors.getFormCreateRoom);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <ImageWrapper src={form?.roomImage} title=\"Room image\" />\n\n      <DialogContent dividers>\n        <FormFieldText {...createRoomFormModel.roomName} />\n        <FormFieldText {...createRoomFormModel.roomImage} />\n        <FormFieldText {...createRoomFormModel.campaignTitle} />\n        <FormFieldText {...createRoomFormModel.description} />\n        <FormFieldText {...createRoomFormModel.gameMasterAvatar} />\n        <div style={{ width: '50%' }}>\n          <FormFieldText {...createRoomFormModel.maxPlayers} />\n        </div>\n        <FormFieldCheckboxGroup {...createRoomFormModel.diceType} />\n      </DialogContent>\n      <DialogActions>\n        <Button type=\"submit\" color=\"primary\" disabled={invalid || pristine || submitting}>\n          Submit\n        </Button>\n        <Button type=\"button\" onClick={onClose} color=\"primary\">\n          Cancel\n        </Button>\n      </DialogActions>\n    </form>\n  );\n}\n\nexport const RoomCreateForm = reduxForm({\n  form: 'createRoom',\n  validate,\n})(RoomCreateFormC as any) as any;\n","import React from 'react';\nimport { RoomCreateForm } from './components/RoomCreateForm';\n\nimport { IRoomCreateForm } from '../../models/rooms.model';\nimport { FormDialog } from '../../components/FormDialog';\nimport { equal } from '../../utils/object.utils';\n\nexport interface RoomCreateProps {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (formValues: IRoomCreateForm) => void;\n  initialValues?: IRoomCreateForm;\n}\n\nexport function RoomCreateC(props: RoomCreateProps) {\n  const { open, onClose, onSubmit, initialValues } = props;\n\n  return (\n    <FormDialog open={open} onClose={onClose} title=\"Create new room\">\n      <RoomCreateForm onClose={onClose} onSubmit={onSubmit} initialValues={initialValues} />\n    </FormDialog>\n  );\n}\n\nexport const RoomCreate = React.memo(\n  RoomCreateC,\n  (prev, next) => equal(prev.initialValues, next.initialValues) && prev.open === next.open\n);\n","import { compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { setDisplayName } from 'recompose';\nimport { UserIsAuthenticated } from '../../../utils/router.utils';\n\nexport const enhancedRoomList = compose(\n  // Set component display name (more clear in dev/error tools)\n  setDisplayName('EnhancedRoomList'),\n  // Add props.match\n  withRouter,\n  // Redirect to /login if user is not logged in\n  UserIsAuthenticated\n);\n","import React from 'react';\nimport { Avatar, Grid, ListItem, ListItemAvatar, ListItemText, Typography } from '@material-ui/core';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\n\nimport { dateUtils } from '../../../utils/date.utils';\nimport { IPlayerProfile, IRoomLog } from '../../../models/rooms.model';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    itemHeader: {\n      width: '40%',\n      paddingRight: theme.spacing(2),\n      boxSizing: 'border-box',\n    },\n    itemContent: {\n      width: '60%',\n      boxSizing: 'border-box',\n    },\n  });\n\nexport interface LogListItemProps extends WithStyles<typeof styles> {\n  profile: IPlayerProfile;\n  log: IRoomLog;\n  children?: any;\n}\n\nfunction LogListItemC(props: LogListItemProps) {\n  const { profile, log, classes, children } = props;\n  const { displayName, photoURL, avatarUrl, characterAvatarUrl, characterName } = profile || {};\n\n  return (\n    <ListItem alignItems=\"flex-start\">\n      <div className={classes.itemHeader}>\n        <ListItemAvatar>\n          <Avatar alt={displayName} src={characterAvatarUrl || avatarUrl || photoURL} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={\n            <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\">\n              <Typography component={'span'} variant={'body1'}>\n                {characterName || displayName}\n              </Typography>\n              <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n                {dateUtils.timeStampToDetailedTime(log.timestamp)}\n              </Typography>\n            </Grid>\n          }\n        />\n      </div>\n      <div className={classes.itemContent}>{children}</div>\n    </ListItem>\n  );\n}\n\nexport const LogsListItem = withStyles(styles)(LogListItemC);\n","import React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\n\nimport { IRoomLog } from '../../../models/rooms.model';\nimport { diceUtils } from '../../../utils/dice.utils';\n\nconst styles = (theme: Theme) => createStyles({});\n\nexport interface LogDiceThrowProps extends WithStyles<typeof styles> {\n  log: IRoomLog;\n}\n\nfunction LogDiceThrowC(props: LogDiceThrowProps) {\n  const { log } = props;\n\n  const resultSorted = diceUtils.sortObjectWithDiceKey(log.payload?.result || []);\n  return (\n    <Grid container spacing={0}>\n      <Grid item xs={6}>\n        <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n          log type:\n        </Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <Typography component={'span'} variant={'overline'} color={'secondary'}>\n          {log.type}\n        </Typography>\n      </Grid>\n\n      {Object.keys(resultSorted).map(diceKey => (\n        <React.Fragment key={diceKey}>\n          <Grid item xs={3}>\n            <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n              {diceKey}\n            </Typography>\n          </Grid>\n          <Grid item xs={9}>\n            <Typography component={'span'} variant={'body1'} color={'secondary'}>\n              {resultSorted[diceKey] && resultSorted[diceKey].join(', ')}\n            </Typography>\n          </Grid>\n        </React.Fragment>\n      ))}\n    </Grid>\n  );\n}\n\nexport const LogDiceThrow = React.memo(withStyles(styles)(LogDiceThrowC));\n","import React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\n\nimport { IRoomLog } from '../../../models/rooms.model';\nimport { equal } from '../../../utils/object.utils';\n\nconst styles = (theme: Theme) => createStyles({});\n\nexport interface LogNewPlayerProps extends WithStyles<typeof styles> {\n  log: IRoomLog;\n}\n\nfunction LogNewPlayerC(props: LogNewPlayerProps) {\n  const { log } = props;\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={0}>\n        <Grid item xs={6}>\n          <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n            log type:\n          </Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <Typography component={'span'} variant={'overline'} color={'secondary'}>\n            {log.type}\n          </Typography>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n}\n\nexport const LogNewPlayer = React.memo(withStyles(styles)(LogNewPlayerC), equal);\n","import React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Dictionary } from 'react-redux-firebase';\nimport { Divider, List } from '@material-ui/core';\n\nimport { IPlayerProfile, IRoomLog, Log } from '../../../models/rooms.model';\nimport { LogsListItem } from './LogsListItem';\nimport { LogDiceThrow } from './LogDiceThrow';\nimport { LogNewPlayer } from './LogNewPlayer';\nimport { equal } from '../../../utils/object.utils';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      backgroundColor: theme.palette.background.paper,\n      overflowY: 'scroll',\n    },\n  });\n\nexport interface LogsTimelineProps extends WithStyles<typeof styles> {\n  profiles: Dictionary<IPlayerProfile>;\n  logs: IRoomLog[];\n}\n\nfunction LogsTimelineC(props: LogsTimelineProps) {\n  const { profiles, logs, classes } = props;\n\n  const renderElement = () => {\n    if (!logs || !logs.length) return '';\n    return [...logs].reverse().map((log, id) => (\n      <React.Fragment key={log.timestamp}>\n        {!!id && <Divider variant=\"inset\" component=\"li\" light={true} />}\n        <LogsListItem profile={profiles[log.authorUid]} log={log}>\n          {log.type === Log.DICE_ROLL && log.payload && <LogDiceThrow log={log} />}\n          {log.type === Log.NEW_PLAYER && <LogNewPlayer log={log} />}\n        </LogsListItem>\n      </React.Fragment>\n    ));\n  };\n\n  return <List className={classes.root}>{renderElement()}</List>;\n}\n\nexport const LogsTimeline = React.memo(withStyles(styles)(LogsTimelineC), equal);\n","import React from 'react';\nimport {\n  Divider,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Grid,\n  Typography,\n} from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport { IPlayerProfile, IRoomLog, Log } from '../../../models/rooms.model';\nimport { LogDiceThrow } from './LogDiceThrow';\nimport { LogNewPlayer } from './LogNewPlayer';\nimport { dateUtils } from '../../../utils/date.utils';\nimport { equal } from '../../../utils/object.utils';\n\nexport interface LogsExpansionProps {\n  profile: IPlayerProfile;\n  logs: IRoomLog[];\n}\n\nfunction LogsExpansionC(props: LogsExpansionProps) {\n  const { logs, profile } = props;\n  const renderlog = (logs: IRoomLog[]) => {\n    return [...logs].reverse().map((log, id) => (\n      <ul key={log.timestamp}>\n        {!!id && <Divider component=\"div\" light={true} />}\n        <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n          {dateUtils.timeStampToDetailedTime(log.timestamp)}\n        </Typography>\n        {log.type === Log.DICE_ROLL && log.payload && <LogDiceThrow log={log} />}\n        {log.type === Log.NEW_PLAYER && <LogNewPlayer log={log} />}\n      </ul>\n    ));\n  };\n\n  return (\n    <ExpansionPanel elevation={0}>\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n        <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\" spacing={2}>\n          <Grid item>\n            <Avatar\n              src={profile.characterAvatarUrl || profile.avatarUrl || profile.photoURL}\n              alt={profile.displayName}\n            />\n          </Grid>\n          <Grid item>\n            <Typography>{profile.characterName || profile.displayName}</Typography>\n          </Grid>\n        </Grid>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails>\n        <article>{renderlog(logs)}</article>\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n}\n\nexport const LogsExpansion = React.memo(LogsExpansionC, equal);\n","import React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Dictionary } from 'react-redux-firebase';\nimport { List } from '@material-ui/core';\n\nimport { IPlayerProfile, IRoomLog } from '../../../models/rooms.model';\nimport { LogsExpansion } from './LogsExpansion';\nimport { equal } from '../../../utils/object.utils';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      backgroundColor: theme.palette.background.paper,\n      overflowY: 'scroll',\n    },\n  });\n\nexport interface LogsByPlayersProps extends WithStyles<typeof styles> {\n  profiles: Dictionary<IPlayerProfile>;\n  logs: IRoomLog[];\n}\n\nfunction LogsByPlayersC(props: LogsByPlayersProps) {\n  const { profiles, logs, classes } = props;\n\n  const renderElement = () => {\n    return (\n      <React.Fragment>\n        {Object.keys(profiles).map(profileUid => (\n          <LogsExpansion\n            key={profileUid}\n            profile={profiles[profileUid]}\n            logs={logs.filter(log => log.authorUid === profileUid)}\n          />\n        ))}\n      </React.Fragment>\n    );\n  };\n\n  return <List className={classes.root}>{renderElement()}</List>;\n}\n\nexport const LogsByPlayers = React.memo(withStyles(styles)(LogsByPlayersC), equal);\n","import AppBar from '@material-ui/core/AppBar';\nimport Paper from '@material-ui/core/Paper';\nimport React from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport { Box, Slide, Tab, Tabs, Typography, useTheme } from '@material-ui/core';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { LogsTimeline } from './LogsTimeline';\nimport { useSelector } from 'react-redux';\n\nimport { firestoreSelectors } from '../../../store/firebase/firestore.selectors';\nimport { LogsByPlayers } from './LogsByPlayers';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      width: '100%',\n      height: '100%',\n      position: 'relative' as 'relative',\n      zIndex: 10,\n      overflow: 'hidden',\n    },\n    bar: {\n      borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\n    },\n    tab: {\n      overflowX: 'hidden',\n      height: `calc(100% - ${theme.spacing(6)}px)`,\n      overflowY: 'scroll',\n    },\n    tabContent: {\n      margin: theme.spacing(-2),\n    },\n  });\n\nexport interface LogsTabsProps extends WithStyles<typeof styles> {\n  visible?: boolean;\n}\n\nfunction LogsTabsC(props: LogsTabsProps) {\n  const { classes, visible = true } = props;\n\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n  const profiles = useSelector(firestoreSelectors.selectedRoomPlayers);\n  const logs = useSelector(firestoreSelectors.selectedRoomLogs);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  return (\n    <Slide direction=\"right\" in={visible}>\n      <Paper className={classes.root} elevation={2}>\n        <AppBar className={classes.bar} position=\"static\" color=\"default\" elevation={0}>\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"secondary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n            aria-label=\"full width tabs example\"\n          >\n            <Tab label=\"Logs Timeline\" {...a11yProps(0)} />\n            <Tab label=\"Players Logs\" {...a11yProps(1)} />\n          </Tabs>\n        </AppBar>\n        <div className={classes.tab}>\n          <SwipeableViews\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n            index={value}\n            onChangeIndex={handleChangeIndex}\n          >\n            <TabPanel value={value} index={0} dir={theme.direction}>\n              <div className={classes.tabContent}>\n                <LogsTimeline profiles={profiles} logs={logs} />\n              </div>\n            </TabPanel>\n            <TabPanel value={value} index={1} dir={theme.direction}>\n              <div className={classes.tabContent}>\n                <LogsByPlayers profiles={profiles} logs={logs} />\n              </div>\n            </TabPanel>\n          </SwipeableViews>\n        </div>\n      </Paper>\n    </Slide>\n  );\n}\n\nexport const LogsTabs = withStyles(styles)(LogsTabsC);\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  dir?: string;\n  index: any;\n  value: any;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nfunction a11yProps(index: any) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n","import React from 'react';\nimport { Slide } from '@material-ui/core';\n\nimport { LogsTabs } from './components/LogsTabs';\n\nexport interface LogsDashboardProps {\n  visible?: boolean;\n}\n\nfunction LogsDashboardC(props: LogsDashboardProps) {\n  const { visible = true } = props;\n\n  return (\n    <Slide direction=\"left\" in={visible}>\n      <div style={{ position: 'absolute', top: 0, left: 0, height: '100%', width: '100%', zIndex: 10 }}>\n        <LogsTabs />\n      </div>\n    </Slide>\n  );\n}\n\nexport const LogsDashboard = React.memo(LogsDashboardC);\n","import AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport clsx from 'clsx';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Grid, GridListTile, GridListTileBar, IconButton, Tooltip } from '@material-ui/core';\n\nimport { IPlayerProfile } from '../../../models/rooms.model';\nimport { equal } from '../../../utils/object.utils';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    tile: {\n      borderRadius: theme.spacing(1),\n      marginRight: theme.spacing(2),\n      maxWidth: theme.spacing(30),\n      overflow: 'hidden',\n      padding: '0 !Important',\n      width: '100%',\n    },\n    title: {\n      color: theme.palette.primary.light,\n    },\n    titleDisable: {\n      color: theme.palette.warning.light,\n    },\n    actionGrid: {\n      position: 'absolute' as 'absolute',\n      zIndex: 10,\n      top: 0,\n      right: 0,\n    },\n    titleBar: {\n      background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n  });\n\ninterface PlayerTileProps extends WithStyles<typeof styles> {\n  player: IPlayerProfile;\n  onEdit?: (uid: string) => void;\n}\n\nfunction PlayerTileC(props: PlayerTileProps) {\n  const { classes, player, onEdit } = props;\n\n  return (\n    <GridListTile className={classes.tile}>\n      <img src={player.characterAvatarUrl || player.avatarUrl || player.photoURL} alt={player.displayName} />\n      <GridListTileBar\n        title={player.characterName || player.displayName}\n        classes={{\n          root: classes.titleBar,\n          title: player.connected ? classes.title : classes.titleDisable,\n        }}\n        actionIcon={\n          <Tooltip title={player.connected ? 'Online' : 'Offline'}>\n            <IconButton aria-label={`star ${player.displayName}`}>\n              {player.connected ? (\n                <CheckCircleIcon className={classes.title} />\n              ) : (\n                <HighlightOffIcon className={classes.titleDisable} />\n              )}\n            </IconButton>\n          </Tooltip>\n        }\n      />\n\n      {(player.gameMaster || onEdit) && (\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"center\"\n          spacing={0}\n          className={classes.actionGrid}\n        >\n          {player.gameMaster && (\n            <Grid item>\n              <Tooltip className={clsx(player.connected ? classes.title : classes.titleDisable)} title={'Game Master'}>\n                <IconButton aria-label={''}>\n                  <GavelIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          )}\n          {onEdit && (\n            <Grid item>\n              <Tooltip\n                className={clsx(player.connected ? classes.title : classes.titleDisable)}\n                title={'Edit character'}\n              >\n                <IconButton onClick={() => onEdit(player.uid)} aria-label={`edit character`}>\n                  <AccountBoxIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          )}\n        </Grid>\n      )}\n    </GridListTile>\n  );\n}\n\nexport const PlayerTile = React.memo(withStyles(styles)(PlayerTileC), (prev, next) => equal(prev.player, next.player));\n","import React from 'react';\nimport { Button, DialogActions, DialogContent } from '@material-ui/core';\nimport { InjectedFormProps, reduxForm } from 'redux-form';\nimport { useSelector } from 'react-redux';\n\nimport { FormFieldText } from '../../../components/FormComponents';\nimport { ImageWrapper } from '../../../components/ImageWrapper';\nimport { mainSelectors } from '../../../store/main.selectors';\nimport { playersCharacterFormModel } from '../../../models/rooms.model';\n\nconst validate = (values: any) => {\n  const errors: any = {};\n\n  Object.keys(playersCharacterFormModel).forEach(fieldKey => {\n    if (\n      playersCharacterFormModel[fieldKey].maxLength &&\n      values[playersCharacterFormModel[fieldKey].name]?.length > playersCharacterFormModel[fieldKey].maxLength\n    ) {\n      errors[fieldKey] = `Max length ${playersCharacterFormModel[fieldKey].maxLength} exceeded`;\n    }\n  });\n\n  return errors;\n};\n\ninterface PlayerProfileFormProps extends InjectedFormProps {\n  onClose: () => void;\n}\n\nfunction PlayerProfileFormC(props: PlayerProfileFormProps) {\n  const { handleSubmit, pristine, submitting, onClose, invalid } = props;\n  const form = useSelector(mainSelectors.getFormPlayerProfile);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <ImageWrapper src={form.characterAvatarUrl} title=\"Character image\" />\n      <DialogContent dividers>\n        <FormFieldText {...playersCharacterFormModel.characterName} />\n        <FormFieldText {...playersCharacterFormModel.characterAvatarUrl} />\n        <FormFieldText {...playersCharacterFormModel.characterDescription} />\n        <FormFieldText {...playersCharacterFormModel.notes} />\n      </DialogContent>\n      <DialogActions>\n        <Button type=\"submit\" color=\"primary\" disabled={invalid || pristine || submitting}>\n          Submit\n        </Button>\n        <Button type=\"button\" onClick={onClose} color=\"primary\">\n          Cancel\n        </Button>\n      </DialogActions>\n    </form>\n  );\n}\n\nexport const PlayerProfileForm = reduxForm({\n  form: 'playerProfile',\n  validate,\n})(PlayerProfileFormC as any) as any;\n","import React, { useContext } from 'react';\n\nimport { Dictionary, useFirestore } from 'react-redux-firebase';\nimport { FirestoreCollection } from '../../../models/firebase.model';\nimport { firestoreSelectors } from '../../../store/firebase/firestore.selectors';\nimport { FormDialog } from '../../../components/FormDialog';\nimport { IPlayerProfile, IRoomPlayerProfileForm } from '../../../models/rooms.model';\nimport { PlayerProfileForm } from './PlayerProfileForm';\nimport { roomsSelectors } from '../../../store/rooms/rooms.selectors';\nimport { useSelector } from 'react-redux';\nimport { SnackbarType, ToastContext } from '../../../contexts/Toast.context';\n\nexport interface PlayerProfileProps {\n  open: boolean;\n  onClose: () => void;\n  profileUid: string;\n}\n\nexport function PlayerProfile(props: PlayerProfileProps) {\n  const { open, onClose, profileUid } = props;\n\n  const firestore = useFirestore();\n  const selectedRoomUid = useSelector(roomsSelectors.selectedRoomUid);\n  const selectedRoom = useSelector(firestoreSelectors.selectedRoom);\n  const Toast = useContext(ToastContext);\n\n  const onSubmit = (formValues: IRoomPlayerProfileForm) => {\n    Object.keys(formValues).forEach(key => (formValues as any)[key] === undefined && delete (formValues as any)[key]);\n\n    const players: Dictionary<IPlayerProfile> = { ...selectedRoom.players, [profileUid]: formValues };\n    firestore\n      .doc(`${FirestoreCollection.ROOMS}/${selectedRoomUid}`)\n      .update({ players })\n      .then(room => {\n        onClose();\n      })\n      .catch((e: boolean) => {\n        Toast.setSnackbarConfig({\n          type: SnackbarType.ERROR,\n          open: true,\n          text: 'Upss.. there was an error updating the player form',\n        });\n      });\n  };\n\n  return (\n    <FormDialog open={open} onClose={onClose} title=\"Edit character\">\n      {selectedRoom?.players[profileUid] && (\n        <PlayerProfileForm onClose={onClose} onSubmit={onSubmit} initialValues={selectedRoom.players[profileUid]} />\n      )}\n    </FormDialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { GridList, Grow, Slide } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\n\nimport { firestoreSelectors } from '../../store/firebase/firestore.selectors';\nimport { PlayerTile } from './components/PlayerTile';\nimport { IPlayerProfile } from '../../models/rooms.model';\nimport { PlayerProfile } from './components/PlayerProfile';\nimport { firebaseSelectors } from '../../store/firebase/firebase.selectors';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-around',\n      overflow: 'hidden',\n      backgroundColor: theme.palette.background.paper,\n    },\n    gridList: {\n      height: theme.spacing(20),\n      width: '100%',\n      flexWrap: 'nowrap',\n      transform: 'translateZ(0)',\n    },\n  });\n\ninterface PlayersProps extends WithStyles<typeof styles> {\n  visible?: boolean;\n}\n\nfunction PlayersC(props: PlayersProps) {\n  const { classes, visible } = props;\n\n  const players = useSelector(firestoreSelectors.selectedRoomPlayers);\n  const usersProfiles = useSelector(firestoreSelectors.usersProfiles);\n  const userProfile = useSelector(firebaseSelectors.userProfile);\n  const gameMasterUid = useSelector(firestoreSelectors.selectedRoomGameMasterUid);\n  const [editProfile, setEditProfile] = useState<string>(null);\n\n  const renderPlayers = () =>\n    Object.keys(players).map((playerUid, id) => {\n      const player: IPlayerProfile = { ...players[playerUid], connected: usersProfiles[playerUid]?.connected };\n\n      return (\n        <Grow in key={playerUid} timeout={1000 * id + 300}>\n          <PlayerTile\n            player={player}\n            onEdit={\n              (userProfile.uid === gameMasterUid || userProfile.uid === playerUid) && (uid => setEditProfile(uid))\n            }\n          />\n        </Grow>\n      );\n    });\n\n  return (\n    <React.Fragment>\n      {players && (\n        <Slide direction=\"up\" in={visible}>\n          <GridList className={classes.gridList} cols={2.5}>\n            {renderPlayers()}\n          </GridList>\n        </Slide>\n      )}\n\n      <PlayerProfile open={!!editProfile} onClose={() => setEditProfile(null)} profileUid={editProfile} />\n    </React.Fragment>\n  );\n}\n\nexport const Players = withStyles(styles)(PlayersC);\n","import React from 'react';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\n\nconst styles = (theme: Theme) => createStyles({});\ntype extend = WithStyles<typeof styles>;\n\nexport interface ISpeedDialAction {\n  icon: React.ReactElement;\n  name: string;\n  callback?: (callback: () => void) => void;\n}\n\ninterface SpeedDialCProps extends extend {\n  direction?: 'up' | 'down' | 'left' | 'right';\n  actions: ISpeedDialAction[];\n}\n\nfunction SpeedDialC(props: SpeedDialCProps) {\n  const { direction = 'left', actions } = props;\n\n  const [open, setOpen] = React.useState(false);\n  const handleClose = () => setOpen(false);\n  const handleOpen = () => setOpen(true);\n\n  return (\n    <SpeedDial\n      ariaLabel=\"SpeedDial example\"\n      icon={<SpeedDialIcon />}\n      onClose={handleClose}\n      onOpen={handleOpen}\n      open={open}\n      direction={direction}\n    >\n      {actions.map(action => (\n        <SpeedDialAction\n          key={action.name}\n          icon={action.icon}\n          tooltipTitle={action.name}\n          onClick={() => (action.callback ? action.callback(handleClose) : handleClose())}\n        />\n      ))}\n    </SpeedDial>\n  );\n}\n\nexport const SpeedDialWrapper = withStyles(styles)(SpeedDialC);\n","import React, { useContext } from 'react';\nimport { useFirestore } from 'react-redux-firebase';\nimport { useSelector } from 'react-redux';\n\nimport { FirestoreCollection } from '../models/firebase.model';\nimport { firestoreSelectors } from '../store/firebase/firestore.selectors';\nimport { IRoomCreateForm } from '../models/rooms.model';\nimport { RoomCreate } from '../modules/RoomCreate/RoomCreate';\nimport { roomsSelectors } from '../store/rooms/rooms.selectors';\nimport { SnackbarType, ToastContext } from '../contexts/Toast.context';\n\ninterface RoomCreateInRoomProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport function RoomCreateInRoom(props: RoomCreateInRoomProps) {\n  const { open, onClose } = props;\n  const firestore = useFirestore();\n  const selectedRoomFormData = useSelector(firestoreSelectors.selectedRoomFormData) as IRoomCreateForm;\n  const selectedRoomUid = useSelector(roomsSelectors.selectedRoomUid) as string;\n  const Toast = useContext(ToastContext);\n\n  const handleSubmit = (formValues: IRoomCreateForm) => {\n    Object.keys(formValues).forEach(key => (formValues as any)[key] === undefined && delete (formValues as any)[key]);\n\n    firestore\n      .doc(`${FirestoreCollection.ROOMS}/${selectedRoomUid}`)\n      .update({ ...formValues })\n      .then(room => {\n        onClose();\n      })\n      .catch((e: boolean) => {\n        Toast.setSnackbarConfig({\n          type: SnackbarType.ERROR,\n          open: true,\n          text: 'Upss.. there was an error updating the room',\n        });\n      });\n  };\n\n  return <RoomCreate open={open} onClose={onClose} onSubmit={handleSubmit} initialValues={selectedRoomFormData} />;\n}\n","import EditIcon from '@material-ui/icons/Edit';\nimport ForumIcon from '@material-ui/icons/Forum';\nimport GroupIcon from '@material-ui/icons/Group';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport React, { useContext, useState } from 'react';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { ISpeedDialAction, SpeedDialWrapper } from '../../../../components/SpeedDial';\nimport { mainSelectors } from '../../../../store/main.selectors';\nimport { roomsActions } from '../../../../store/rooms/rooms.actions';\nimport { roomsSelectors } from '../../../../store/rooms/rooms.selectors';\nimport { RoomCreateInRoom } from '../../../../containers/RoomCreateInRoom';\nimport { SnackbarType, ToastContext } from '../../../../contexts/Toast.context';\n\nconst styles = (theme: Theme) => createStyles({});\ninterface RoomSpeedDialCProps extends WithStyles<typeof styles> {}\n\nfunction RoomSpeedDialC(props: RoomSpeedDialCProps) {\n  const dispatch = useDispatch();\n\n  const Toast = useContext(ToastContext);\n  const isGameMasterOfSelectedRoom = useSelector(mainSelectors.isGameMasterOfSelectedRoom);\n  const drawerOpened = useSelector(roomsSelectors.drawerOpened);\n  const chatOpened = useSelector(roomsSelectors.chatOpened);\n  const playersOpened = useSelector(roomsSelectors.playersOpened);\n  const [showRoomForm, setShowRoomForm] = useState(false);\n\n  function copyRoomUrlToClipboard(): void {\n    navigator.permissions.query({ name: 'clipboard-write' as any }).then(result => {\n      if (result.state === 'granted' || result.state === 'prompt') {\n        navigator.clipboard.writeText(window.location.href).then(\n          () =>\n            Toast.setSnackbarConfig({ type: SnackbarType.SUCCESS, open: true, text: 'Room URL copied to clipboard!' }),\n          () => Toast.setSnackbarConfig({ type: SnackbarType.ERROR, open: true, text: 'Upss.. there was an error' })\n        );\n      }\n    });\n  }\n\n  const actionsAdditional: ISpeedDialAction[] = isGameMasterOfSelectedRoom\n    ? [\n        {\n          icon: <EditIcon />,\n          name: 'Edit Room Description',\n          callback: cb => setShowRoomForm(true),\n        },\n      ]\n    : [];\n  const actions: ISpeedDialAction[] = [\n    {\n      icon: drawerOpened ? <NavigateBeforeIcon /> : <NavigateNextIcon />,\n      name: drawerOpened ? 'Hide Nav' : 'Show Nav',\n      callback: cb => dispatch(roomsActions.setDrawerOpenValue(!drawerOpened)),\n    },\n    {\n      icon: <ForumIcon />,\n      name: chatOpened ? 'Hide chat' : 'Show Chat',\n      callback: cb => dispatch(roomsActions.setChatOpenValue(!chatOpened)),\n    },\n    {\n      icon: <GroupIcon />,\n      name: playersOpened ? 'Hide players' : 'Show players',\n      callback: cb => dispatch(roomsActions.setPlayersOpenValue(!playersOpened)),\n    },\n    {\n      icon: <ShareIcon />,\n      name: 'Copy Room Url',\n      callback: cb => copyRoomUrlToClipboard(),\n    },\n    ...actionsAdditional,\n  ];\n\n  return (\n    <React.Fragment>\n      <SpeedDialWrapper actions={actions} direction={'right'} />\n      <RoomCreateInRoom open={showRoomForm} onClose={() => setShowRoomForm(false)} />\n    </React.Fragment>\n  );\n}\n\nexport const RoomSpeedDialWrapper = withStyles(styles)(RoomSpeedDialC);\n","import clsx from 'clsx';\nimport React from 'react';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\n\nimport { Chatter } from '../../../../modules/Chatter';\nimport { DiceCard } from '../../../../modules/DiceCard/DiceCard';\nimport { DiceDashboard } from '../../../../modules/DiceDashboard/DiceDashboard';\nimport { firestoreSelectors } from '../../../../store/firebase/firestore.selectors';\nimport { LogsDashboard } from '../../../../modules/LogsDashboard/LogsDashboard';\nimport { mainSelectors } from '../../../../store/main.selectors';\nimport { Players } from '../../../../modules/Players/Players';\nimport { RoomSpeedDialWrapper } from './RoomSpeedDial';\nimport { roomsSelectors } from '../../../../store/rooms/rooms.selectors';\n\nconst styles = (theme: Theme) => ({\n  root: {\n    position: 'relative' as 'relative',\n    margin: theme.spacing(-6, -4),\n    height: `calc(100vh - ${theme.spacing(10)}px)`,\n    padding: theme.spacing(1, 1, 0, 1),\n  },\n  mainGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr auto',\n    gridTemplateRows: '1fr auto auto',\n    columnGap: theme.spacing(2) + 'px',\n    rowGap: theme.spacing(2) + 'px',\n    width: '100%',\n    height: '100%',\n  },\n  gridItemLogs: {\n    position: 'relative' as 'relative',\n    gridColumn: '2',\n    gridRow: '1',\n  },\n  gridItemChatter: {\n    position: 'relative' as 'relative',\n    gridColumn: '2',\n    gridRow: '2 / span 2',\n  },\n  gridItemDiceCard: {\n    position: 'relative' as 'relative',\n    gridColumn: '1 / span 2',\n    gridRow: '1 / span 2',\n  },\n  gridItemPlayers: {\n    position: 'relative' as 'relative',\n    gridColumn: '1',\n    gridRow: '3',\n  },\n  speedDial: {\n    position: 'absolute' as 'absolute',\n    bottom: theme.spacing(3),\n    left: theme.spacing(1),\n    zIndex: 10,\n  },\n  diceDashboard: {\n    position: 'absolute' as 'absolute',\n    zIndex: 1000,\n    top: theme.spacing(1),\n    left: theme.spacing(1),\n  },\n\n  maxHeight: {\n    maxHeight: '3000px',\n    transition: 'max-height 225ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n  },\n  noHeight: {\n    maxHeight: 0,\n  },\n});\n\nconst useStyles = makeStyles(styles);\n\nexport function RoomView() {\n  const classes = useStyles();\n\n  const playersOpened = useSelector(roomsSelectors.playersOpened);\n  const chatOpened = useSelector(roomsSelectors.chatOpened);\n  const diceRolling = useSelector(roomsSelectors.diceRolling);\n  const selectedRoom = useSelector(firestoreSelectors.selectedRoom);\n\n  const isUserARoomPlayerOrGameMaster = useSelector(mainSelectors.isUserARoomPlayerOrGameMaster);\n\n  const diceCardFullHeight = !playersOpened || !selectedRoom;\n\n  return (\n    <section className={classes.root}>\n      <div className={classes.mainGrid}>\n        <div className={classes.gridItemLogs}>\n          <LogsDashboard visible={!diceRolling && !!selectedRoom} />\n        </div>\n\n        <div className={classes.gridItemDiceCard}>\n          <DiceCard />\n\n          <nav className={classes.diceDashboard}>\n            <DiceDashboard\n              visible={!diceRolling && !!selectedRoom && isUserARoomPlayerOrGameMaster}\n              room={selectedRoom}\n            />\n          </nav>\n\n          <nav className={classes.speedDial}>\n            <RoomSpeedDialWrapper />\n          </nav>\n        </div>\n\n        <div className={classes.gridItemChatter}>\n          <Chatter visible={chatOpened && !diceRolling && isUserARoomPlayerOrGameMaster} />\n        </div>\n\n        <div className={classes.gridItemPlayers}>\n          <div className={clsx(classes.maxHeight, diceCardFullHeight && classes.noHeight)}>\n            <Players visible={!diceCardFullHeight} />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","import { enhancedRoomList } from './RoomPage.enhancer';\nimport { RoomC } from './RoomPage';\n\nexport default enhancedRoomList(RoomC);\n","import React, { useContext, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useFirestore } from 'react-redux-firebase';\n\nimport { chatsActions } from '../../../store/chats/chats.actions';\nimport { firebaseSelectors } from '../../../store/firebase/firebase.selectors';\nimport { FirestoreCollection } from '../../../models/firebase.model';\nimport { firestoreSelectors } from '../../../store/firebase/firestore.selectors';\nimport { locationActions } from '../../../store/location/location.actions';\nimport { LocationMatch } from '../../../store/location/location.model';\nimport { locationSelectors } from '../../../store/location/location.selectors';\nimport { roomsActions } from '../../../store/rooms/rooms.actions';\nimport { roomsSelectors } from '../../../store/rooms/rooms.selectors';\nimport { DiceServiceContextC } from '../../../contexts/DiceService.context';\nimport { RoomView } from './components/RoomPageView';\nimport { IPlayerProfile, IRoomLog, Log } from '../../../models/rooms.model';\nimport { SnackbarType, ToastContext } from '../../../contexts/Toast.context';\n\n//\n\nexport interface RoomListProps {\n  match: LocationMatch;\n}\n\nexport function RoomC(props: RoomListProps) {\n  const { match } = props;\n\n  const dispatch = useDispatch();\n  const firestore = useFirestore();\n  const Toast = useContext(ToastContext);\n\n  const selectedRoomData = useSelector(firestoreSelectors.selectedRoom);\n  const selectedRoomUid = useSelector(roomsSelectors.selectedRoomUid);\n  const storeLocationMatch = useSelector(locationSelectors.match);\n  const userProfile = useSelector(firebaseSelectors.userProfile);\n\n  /**\n   * Effects logic\n   */\n  function onChangeSetLocationMatch(): void {\n    if (JSON.stringify(match) !== JSON.stringify(storeLocationMatch)) {\n      dispatch(locationActions.matchChange(match));\n    }\n    dispatch(roomsActions.setSelectedRoom((storeLocationMatch.params as any)['roomId']));\n  }\n  function onUnmountSetSelectedRoomToNull(): void {\n    dispatch(roomsActions.setSelectedRoom(null));\n  }\n  function onChangeSetSelectedChat(): void {\n    dispatch(chatsActions.setSelectedChat(selectedRoomData?.chatUid || null));\n  }\n  function onEnterTheRoomAddUserToPlayers(): void {\n    if (!selectedRoomData) return;\n\n    if (!selectedRoomData?.players || !userProfile.uid || selectedRoomData.gameMasterUid === userProfile.uid) return;\n    if (selectedRoomData.players[userProfile.uid]) return;\n    if (selectedRoomData?.maxPlayers <= Object.keys(selectedRoomData.players).length) {\n      Toast.setSnackbarConfig({\n        type: SnackbarType.WARNING,\n        open: true,\n        text: 'I could not sit at the table because the maximum number of players is reached',\n      });\n      return;\n    }\n\n    const documentRef = firestore.doc(`${FirestoreCollection.ROOMS}/${selectedRoomUid}`);\n    firestore.runTransaction(t => {\n      return t\n        .get(documentRef)\n        .then(doc => {\n          const log: IRoomLog = { authorUid: userProfile.uid, timestamp: Date.now(), type: Log.NEW_PLAYER };\n          const logs = [...doc.data().logs, log];\n          const player: IPlayerProfile = {\n            displayName: userProfile.displayName,\n            email: userProfile.email,\n            photoURL: userProfile.photoURL,\n            uid: userProfile.uid,\n          };\n          const players = { ...doc.data().players, [userProfile.uid]: player };\n          const playersUid = [...doc.data().playersUid, userProfile.uid];\n          return t.update(documentRef, { logs, players, playersUid });\n        })\n        .catch((err: any) => {\n          Toast.setSnackbarConfig({\n            type: SnackbarType.ERROR,\n            open: true,\n            text: 'Upss.. there was an error updating the room',\n          });\n        });\n    });\n  }\n\n  /**\n   * Effects\n   */\n  useEffect(() => onChangeSetLocationMatch());\n\n  useEffect(() => {\n    onEnterTheRoomAddUserToPlayers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedRoomUid, selectedRoomData?.createdAt, userProfile.uid]);\n\n  useEffect(() => {\n    return () => onUnmountSetSelectedRoomToNull();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    onChangeSetSelectedChat();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedRoomData?.chatUid]);\n\n  return (\n    <React.Fragment>\n      {selectedRoomUid &&\n        [selectedRoomUid].map(uid => (\n          <DiceServiceContextC key={uid as string}>\n            <RoomView />\n          </DiceServiceContextC>\n        ))}\n    </React.Fragment>\n  );\n}\n"],"sourceRoot":""}