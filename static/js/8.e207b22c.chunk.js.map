{"version":3,"sources":["modules/Chatter/components/ChatInputBox.tsx","../node_modules/@material-ui/core/esm/Badge/Badge.js","modules/Chatter/components/ChatMessage.tsx","modules/Chatter/Chatter.tsx","../node_modules/@material-ui/core/esm/Divider/Divider.js","../node_modules/@material-ui/icons/Create.js","../node_modules/@material-ui/icons/Send.js"],"names":["ChatInputBox","withStyles","theme","createStyles","root","width","backgroundColor","palette","background","paper","block","display","searchInput","fontSize","typography","props","classes","onNewMessage","useState","message","setMessage","handleNewMessage","e","preventDefault","length","onSubmit","Toolbar","Grid","container","spacing","alignItems","item","className","color","xs","TextField","id","fullWidth","placeholder","InputProps","disableUnderline","onChange","target","value","htmlFor","IconButton","aria-label","component","onClick","Badge","React","ref","_props$anchorOrigin","anchorOrigin","vertical","horizontal","badgeContent","children","_props$color","_props$component","ComponentProp","invisibleProp","invisible","_props$max","max","_props$overlap","overlap","_props$showZero","showZero","_props$variant","variant","other","_objectWithoutProperties","displayValue","concat","_extends","clsx","badge","capitalize","dot","position","verticalAlign","flexShrink","flexDirection","flexWrap","justifyContent","alignContent","boxSizing","fontFamily","fontWeight","fontWeightMedium","pxToRem","minWidth","RADIUS_STANDARD","lineHeight","padding","height","borderRadius","zIndex","transition","transitions","create","easing","easeInOut","duration","enteringScreen","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorError","error","RADIUS_DOT","anchorOriginTopRightRectangle","top","right","transform","transformOrigin","anchorOriginBottomRightRectangle","bottom","anchorOriginTopLeftRectangle","left","anchorOriginBottomLeftRectangle","anchorOriginTopRightCircle","anchorOriginBottomRightCircle","anchorOriginTopLeftCircle","anchorOriginBottomLeftCircle","leavingScreen","name","StyledBadge","boxShadow","animation","border","content","opacity","ChatMessage","overflowY","inline","chat","usersProfiles","listStyles","listRef","useRef","useEffect","current","scrollTop","scrollHeight","List","style","messages","map","uid","displayName","photoURL","avatarUrl","connected","Fragment","key","createdAt","Divider","light","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","direction","justify","Typography","dateUtils","timeStampToDetailedTime","maxWidth","margin","overflow","searchBar","borderTop","contentWrapper","visible","firestore","useFirestore","selectedChatUid","useSelector","chatsSelectors","selectedChat","firestoreSelectors","getChat","userProfile","firebaseSelectors","Slide","in","Paper","AppBar","elevation","documentRef","doc","FirestoreCollection","CHATS","newMessage","Date","now","toString","runTransaction","t","get","then","data","update","err","console","log","_props$absolute","absolute","Component","_props$flexItem","flexItem","_props$light","_props$orientation","orientation","_props$role","role","undefined","divider","inset","marginLeft","fade","middle","marginRight","alignSelf","_interopRequireDefault","require","Object","defineProperty","exports","_react","_default","createElement","d"],"mappings":"gSA8EO,IAAMA,EAAeC,aArEb,SAACC,GAAD,OACbC,YAAa,CACXC,KAAM,CACJC,MAAO,OACPC,gBAAiBJ,EAAMK,QAAQC,WAAWC,OAE5CC,MAAO,CACLC,QAAS,SAEXC,YAAa,CACXC,SAAUX,EAAMY,WAAWD,cA2DLZ,EAnD5B,SAAuBc,GAA2B,IACxCC,EAA0BD,EAA1BC,QAASC,EAAiBF,EAAjBE,aAD8B,EAGjBC,mBAAiB,IAHA,mBAGxCC,EAHwC,KAG/BC,EAH+B,KAKzCC,EAAmB,SAACC,GACxBA,EAAEC,iBACEJ,EAAQK,SACVP,EAAaE,GACbC,EAAW,MAIf,OACE,0BAAMK,SAAU,SAAAH,GAAC,OAAID,EAAiBC,KACpC,kBAACI,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,WAAW,UACrC,kBAACH,EAAA,EAAD,CAAMI,MAAI,GACR,kBAAC,IAAD,CAAYC,UAAWhB,EAAQN,MAAOuB,MAAM,aAE9C,kBAACN,EAAA,EAAD,CAAMI,MAAI,EAACG,IAAE,GACX,kBAACC,EAAA,EAAD,CACEC,GAAG,eACHC,WAAS,EACTC,YAAY,iBACZC,WAAY,CACVC,kBAAkB,EAClBR,UAAWhB,EAAQJ,aAErB6B,SAAU,SAAAnB,GAAC,OAAIF,EAAWE,EAAEoB,OAAOC,QACnCA,MAAOxB,KAGX,kBAACQ,EAAA,EAAD,CAAMI,MAAI,GACR,2BAAOa,QAAQ,gBACb,kBAACC,EAAA,EAAD,CACEZ,MAAM,UACNa,aAAW,eACXC,UAAU,OACVC,QAAS,SAAC1B,GAAD,OAAYD,EAAiBC,KAEtC,kBAAC,IAAD,CAAUU,UAAWhB,EAAQN,MAAOuB,MAAM,qB,mCCqGtDgB,EAAQC,cAAiB,SAAenC,EAAOoC,GACjD,IAAIC,EAAsBrC,EAAMsC,aAC5BA,OAAuC,IAAxBD,EAAiC,CAClDE,SAAU,MACVC,WAAY,SACVH,EACAI,EAAezC,EAAMyC,aACrBC,EAAW1C,EAAM0C,SACjBzC,EAAUD,EAAMC,QAChBgB,EAAYjB,EAAMiB,UAClB0B,EAAe3C,EAAMkB,MACrBA,OAAyB,IAAjByB,EAA0B,UAAYA,EAC9CC,EAAmB5C,EAAMgC,UACzBa,OAAqC,IAArBD,EAA8B,OAASA,EACvDE,EAAgB9C,EAAM+C,UACtBC,EAAahD,EAAMiD,IACnBA,OAAqB,IAAfD,EAAwB,GAAKA,EACnCE,EAAiBlD,EAAMmD,QACvBA,OAA6B,IAAnBD,EAA4B,YAAcA,EACpDE,EAAkBpD,EAAMqD,SACxBA,OAA+B,IAApBD,GAAqCA,EAChDE,EAAiBtD,EAAMuD,QACvBA,OAA6B,IAAnBD,EAA4B,WAAaA,EACnDE,EAAQC,YAAyBzD,EAAO,CAAC,eAAgB,eAAgB,WAAY,UAAW,YAAa,QAAS,YAAa,YAAa,MAAO,UAAW,WAAY,YAE9K+C,EAAYD,EAEK,MAAjBA,IAA2C,IAAjBL,IAAuBY,GAA4B,MAAhBZ,GAAoC,QAAZc,KACvFR,GAAY,GAGd,IAAIW,EAAe,GAMnB,MAJgB,QAAZH,IACFG,EAAejB,EAAeQ,EAAM,GAAGU,OAAOV,EAAK,KAAOR,GAGxCN,gBAAoBU,EAAee,YAAS,CAC9D3C,UAAW4C,YAAK5D,EAAQZ,KAAM4B,GAC9BmB,IAAKA,GACJoB,GAAQd,EAAuBP,gBAAoB,OAAQ,CAC5DlB,UAAW4C,YAAK5D,EAAQ6D,MAAO7D,EAAQ,GAAG0D,OAAOrB,EAAaE,YAAYmB,OAAOI,YAAWzB,EAAaC,UAAW,MAAOtC,EAAQ,eAAe0D,OAAOI,YAAWzB,EAAaC,WAAWoB,OAAOI,YAAWzB,EAAaE,aAAamB,OAAOI,YAAWZ,KAAsB,YAAVjC,GAAuBjB,EAAQ,QAAQ0D,OAAOI,YAAW7C,KAAU6B,GAAa9C,EAAQ8C,UAAuB,QAAZQ,GAAqBtD,EAAQ+D,MACrYN,OAyEUxE,eAnRK,SAAgBC,GAClC,MAAO,CAELE,KAAM,CACJ4E,SAAU,WACVrE,QAAS,cAETsE,cAAe,SACfC,WAAY,GAIdL,MAAO,CACLlE,QAAS,OACTwE,cAAe,MACfC,SAAU,OACVC,eAAgB,SAChBC,aAAc,SACdxD,WAAY,SACZkD,SAAU,WACVO,UAAW,aACXC,WAAYtF,EAAMY,WAAW0E,WAC7BC,WAAYvF,EAAMY,WAAW4E,iBAC7B7E,SAAUX,EAAMY,WAAW6E,QAAQ,IACnCC,SAAUC,GACVC,WAAY,EACZC,QAAS,QACTC,OAAQH,GACRI,aA9BgB,GA+BhBC,OAAQ,EAERC,WAAYjG,EAAMkG,YAAYC,OAAO,YAAa,CAChDC,OAAQpG,EAAMkG,YAAYE,OAAOC,UACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,kBAKzCC,aAAc,CACZpG,gBAAiBJ,EAAMK,QAAQoG,QAAQC,KACvC3E,MAAO/B,EAAMK,QAAQoG,QAAQE,cAI/BC,eAAgB,CACdxG,gBAAiBJ,EAAMK,QAAQwG,UAAUH,KACzC3E,MAAO/B,EAAMK,QAAQwG,UAAUF,cAIjCG,WAAY,CACV1G,gBAAiBJ,EAAMK,QAAQ0G,MAAML,KACrC3E,MAAO/B,EAAMK,QAAQ0G,MAAMJ,cAI7B9B,IAAK,CACHkB,aA1DW,EA2DXD,OAAQkB,EACRtB,SAAUsB,EACVnB,QAAS,GAIXoB,8BAA+B,CAC7BC,IAAK,EACLC,MAAO,EACPC,UAAW,gCACXC,gBAAiB,UACjB,cAAe,CACbD,UAAW,kCAKfE,iCAAkC,CAChCC,OAAQ,EACRJ,MAAO,EACPC,UAAW,+BACXC,gBAAiB,YACjB,cAAe,CACbD,UAAW,iCAKfI,6BAA8B,CAC5BN,IAAK,EACLO,KAAM,EACNL,UAAW,iCACXC,gBAAiB,QACjB,cAAe,CACbD,UAAW,mCAKfM,gCAAiC,CAC/BH,OAAQ,EACRE,KAAM,EACNL,UAAW,gCACXC,gBAAiB,UACjB,cAAe,CACbD,UAAW,kCAKfO,2BAA4B,CAC1BT,IAAK,MACLC,MAAO,MACPC,UAAW,gCACXC,gBAAiB,UACjB,cAAe,CACbD,UAAW,kCAKfQ,8BAA+B,CAC7BL,OAAQ,MACRJ,MAAO,MACPC,UAAW,+BACXC,gBAAiB,YACjB,cAAe,CACbD,UAAW,iCAKfS,0BAA2B,CACzBX,IAAK,MACLO,KAAM,MACNL,UAAW,iCACXC,gBAAiB,QACjB,cAAe,CACbD,UAAW,mCAKfU,6BAA8B,CAC5BP,OAAQ,MACRE,KAAM,MACNL,UAAW,gCACXC,gBAAiB,UACjB,cAAe,CACbD,UAAW,kCAKfxD,UAAW,CACTqC,WAAYjG,EAAMkG,YAAYC,OAAO,YAAa,CAChDC,OAAQpG,EAAMkG,YAAYE,OAAOC,UACjCC,SAAUtG,EAAMkG,YAAYI,SAASyB,oBAwHX,CAChCC,KAAM,YADOjI,CAEZgD,G,wEC5QGkF,EAAclI,aAAW,SAACC,GAAD,OAC7BC,YAAa,CACX0E,MAAO,CACLvE,gBAAiB,UACjB2B,MAAO,UACPmG,UAAU,aAAD,OAAelI,EAAMK,QAAQC,WAAWC,OACjD,WAAY,CACVuE,SAAU,WACVoC,IAAK,EACLO,KAAM,EACNtH,MAAO,OACP2F,OAAQ,OACRC,aAAc,MACdoC,UAAW,oCACXC,OAAQ,yBACRC,QAAS,OAGb,oBAAqB,CACnB,KAAM,CACJjB,UAAW,YACXkB,QAAS,GAEX,OAAQ,CACNlB,UAAW,aACXkB,QAAS,QAzBGvI,CA6BlBgD,GAsFK,IAAMwF,EAAcxI,aApFZ,SAACC,GAAD,OACbC,YAAa,CACXC,KAAM,CACJC,MAAO,OACPC,gBAAiBJ,EAAMK,QAAQC,WAAWC,MAC1CiI,UAAW,UAEbC,OAAQ,CACNhI,QAAS,cA4EYV,EAlE3B,SAA0Bc,GAA8B,IAC9CC,EAA6CD,EAA7CC,QAAS4H,EAAoC7H,EAApC6H,KAAMC,EAA8B9H,EAA9B8H,cAAeC,EAAe/H,EAAf+H,WAEhCC,EAAUC,iBAAO,MAwDvB,OAtDAC,qBAAU,WACJF,GAAWA,EAAQG,UACpBH,EAAQG,QAAgBC,UAAaJ,EAAQG,QAAgBE,iBAI9DL,GAAWA,EAAQG,UACpBH,EAAQG,QAAgBC,UAAaJ,EAAQG,QAAgBE,cAgD9D,kBAACC,EAAA,EAAD,CAAMlG,IAAK4F,EAASO,MAAOR,EAAY9G,UAAWhB,EAAQZ,MA5CrDwI,GAASA,EAAKW,SAAS/H,OAE5B,OAAOoH,QAAP,IAAOA,OAAP,EAAOA,EAAMW,SAASC,KAAI,SAACrI,EAASiB,GAAQ,IAAD,EACeyG,EAAc1H,EAAQsI,MAAQ,GAA9EC,EADiC,EACjCA,YAAaC,EADoB,EACpBA,SAAUC,EADU,EACVA,UAAWC,EADD,EACCA,UAC1C,OACE,kBAAC,IAAMC,SAAP,CAAgBC,IAAK5I,EAAQ6I,aACxB5H,GAAM,kBAAC6H,EAAA,EAAD,CAAS3F,QAAQ,QAAQvB,UAAU,KAAKmH,OAAO,IACxD,kBAACC,EAAA,EAAD,CAAUrI,WAAW,cACnB,kBAACsI,EAAA,EAAD,KACGP,EACC,kBAAC1B,EAAD,CACEjE,QAAQ,SACRb,aAAc,CACZC,SAAU,SACVC,WAAY,SAEde,QAAQ,OAER,kBAAC+F,EAAA,EAAD,CAAQC,IAAKZ,EAAaa,IAAKX,GAAaD,KAG9C,kBAACU,EAAA,EAAD,CAAQC,IAAKZ,EAAaa,IAAKX,GAAaD,KAGhD,kBAACa,EAAA,EAAD,CACE7D,QACE,kBAAChF,EAAA,EAAD,CAAMC,WAAS,EAAC6I,UAAU,MAAMC,QAAQ,gBAAgB5I,WAAW,cACjE,kBAAC6I,EAAA,EAAD,CAAY5H,UAAW,OAAQuB,QAAS,SACrCoF,GAEH,kBAACiB,EAAA,EAAD,CAAY5H,UAAW,OAAQuB,QAAS,UAAWrC,MAAO,iBACvD2I,IAAUC,wBAAwB1J,EAAQ6I,aAIjDjD,UAAW5F,EAAQoH,eAnCc,O,iCCIhCtI,uBAtEA,SAACC,GAAD,OACbC,YAAa,CACXM,MAAO,CACLqK,SAAU,IACVC,OAAQ,OACRC,SAAU,UAEZC,UAAW,CACTC,UAAW,iCAEbC,eAAgB,CACdpF,QAAS,YACT1F,MAAO,YA0DEJ,EAjDf,SAAec,GAAmB,IACxBC,EAA6CD,EAA7CC,QADuB,EACsBD,EAApCiF,cADc,MACL,OADK,IACsBjF,EAAnBqK,eADH,SAEzBC,EAAYC,yBACZC,EAAiCC,sBAAYC,IAAeC,cAC5DA,EAA6BF,sBAAYG,IAAmBC,QAAQL,KAAqB,KAEzFM,EAAwBL,sBAAYM,IAAkBD,aACtDhD,EAAsC2C,sBAAYG,IAAmB9C,eA0B3E,OACE,kBAACkD,EAAA,EAAD,CAAOtB,UAAU,KAAKuB,GAAIZ,GACxB,kBAACa,EAAA,EAAD,CAAOjK,UAAWhB,EAAQP,OACxB,kBAACkB,EAAA,EAAD,CAAMC,WAAS,EAAC6I,UAAU,SAASC,QAAQ,gBAAgB5I,WAAW,YACpE,yBAAKE,UAAWhB,EAAQmK,gBACtB,kBAAC1C,EAAD,CAAaG,KAAM8C,EAAc7C,cAAeA,EAAeC,WAAY,CAAE9C,aAE/E,kBAACkG,EAAA,EAAD,CAAQlK,UAAWhB,EAAQiK,UAAWjG,SAAS,SAAS/C,MAAM,UAAUkK,UAAW,GACjF,kBAACnM,EAAD,CAAciB,aAAc,SAAAE,GAAO,OAhCxB,SAACA,GACpB,IAAIiL,EAAcf,EAAUgB,IAAV,UAAiBC,IAAoBC,MAArC,YAA8ChB,IAE1DiB,EAA2B,CAC/BxC,UAAWyC,KAAKC,MAAMC,WACtBpE,QAASpH,EACTsI,IAAKoC,EAAYpC,KAGnB4B,EAAUuB,gBAAe,SAACC,GACxB,OAAOA,EACJC,IAAIV,GACJW,MAAK,SAACV,GACL,IAAM9C,EAAQ,sBAAO8C,EAAIW,OAAOzD,UAAlB,CAA4BiD,IAC1C,OAAOK,EAAEI,OAAOb,EAAa,CAAE7C,gBAJ5B,OAME,SAAC2D,GAGNC,QAAQC,IAAI,uBAAwBF,SAaKjM,CAAaE,c,iCC/EhE,sDAwDI8I,EAAU/G,cAAiB,SAAiBnC,EAAOoC,GACrD,IAAIkK,EAAkBtM,EAAMuM,SACxBA,OAA+B,IAApBD,GAAqCA,EAChDrM,EAAUD,EAAMC,QAChBgB,EAAYjB,EAAMiB,UAClB2B,EAAmB5C,EAAMgC,UACzBwK,OAAiC,IAArB5J,EAA8B,KAAOA,EACjD6J,EAAkBzM,EAAM0M,SACxBA,OAA+B,IAApBD,GAAqCA,EAChDE,EAAe3M,EAAMmJ,MACrBA,OAAyB,IAAjBwD,GAAkCA,EAC1CC,EAAqB5M,EAAM6M,YAC3BA,OAAqC,IAAvBD,EAAgC,aAAeA,EAC7DE,EAAc9M,EAAM+M,KACpBA,OAAuB,IAAhBD,EAAuC,OAAdN,EAAqB,iBAAcQ,EAAYF,EAC/ExJ,EAAiBtD,EAAMuD,QACvBA,OAA6B,IAAnBD,EAA4B,YAAcA,EACpDE,EAAQC,YAAyBzD,EAAO,CAAC,WAAY,UAAW,YAAa,YAAa,WAAY,QAAS,cAAe,OAAQ,YAE1I,OAAoBmC,gBAAoBqK,EAAW5I,YAAS,CAC1D3C,UAAW4C,YAAK5D,EAAQZ,KAAM4B,EAAuB,cAAZsC,GAA2BtD,EAAQsD,GAAUgJ,GAAYtM,EAAQsM,SAAUG,GAAYzM,EAAQyM,SAAUvD,GAASlJ,EAAQkJ,MAAuB,aAAhB0D,GAA8B5M,EAAQsC,UAChNwK,KAAMA,EACN3K,IAAKA,GACJoB,OAmDUtE,iBA3HK,SAAgBC,GAClC,MAAO,CAELE,KAAM,CACJ4F,OAAQ,EACR+E,OAAQ,EAERzC,OAAQ,OACRpD,WAAY,EACZ5E,gBAAiBJ,EAAMK,QAAQyN,SAIjCV,SAAU,CACRtI,SAAU,WACVyC,OAAQ,EACRE,KAAM,EACNtH,MAAO,QAIT4N,MAAO,CACLC,WAAY,IAIdhE,MAAO,CACL5J,gBAAiB6N,YAAKjO,EAAMK,QAAQyN,QAAS,MAI/CI,OAAQ,CACNF,WAAYhO,EAAM2B,QAAQ,GAC1BwM,YAAanO,EAAM2B,QAAQ,IAI7ByB,SAAU,CACR0C,OAAQ,OACR3F,MAAO,GAIToN,SAAU,CACRa,UAAW,UACXtI,OAAQ,WA8EoB,CAChCkC,KAAM,cADOjI,CAEZgK,I,iCClIH,IAAIsE,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3ChM,OAAO,IAETgM,EAAO,aAAW,EAElB,IAAIC,EAASL,EAAuBC,EAAQ,IAIxCK,GAAW,EAFMN,EAAuBC,EAAQ,KAEnB,SAAUI,EAAM,QAASE,cAAc,OAAQ,CAC9EC,EAAG,wJACD,UAEJJ,EAAO,QAAWE,G,iCCflB,IAAIN,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3ChM,OAAO,IAETgM,EAAO,aAAW,EAElB,IAAIC,EAASL,EAAuBC,EAAQ,IAIxCK,GAAW,EAFMN,EAAuBC,EAAQ,KAEnB,SAAUI,EAAM,QAASE,cAAc,OAAQ,CAC9EC,EAAG,0CACD,QAEJJ,EAAO,QAAWE","file":"static/js/8.e207b22c.chunk.js","sourcesContent":["import React, { FormEvent, useState } from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport CreateIcon from '@material-ui/icons/Create';\nimport SendIcon from '@material-ui/icons/Send';\nimport TextField from '@material-ui/core/TextField';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { IconButton } from '@material-ui/core';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      backgroundColor: theme.palette.background.paper,\n    },\n    block: {\n      display: 'block',\n    },\n    searchInput: {\n      fontSize: theme.typography.fontSize,\n    },\n  });\n\ninterface ChatInputBoxProps extends WithStyles<typeof styles> {\n  onNewMessage: (message: string) => void;\n}\n\nfunction ChatInputBoxC(props: ChatInputBoxProps) {\n  const { classes, onNewMessage } = props;\n\n  const [message, setMessage] = useState<string>('');\n\n  const handleNewMessage = (e: FormEvent) => {\n    e.preventDefault();\n    if (message.length) {\n      onNewMessage(message);\n      setMessage('');\n    }\n  };\n\n  return (\n    <form onSubmit={e => handleNewMessage(e)}>\n      <Toolbar>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item>\n            <CreateIcon className={classes.block} color=\"inherit\" />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              id=\"ChatInputBox\"\n              fullWidth\n              placeholder=\"Type message..\"\n              InputProps={{\n                disableUnderline: true,\n                className: classes.searchInput,\n              }}\n              onChange={e => setMessage(e.target.value)}\n              value={message}\n            />\n          </Grid>\n          <Grid item>\n            <label htmlFor=\"ChatInputBox\">\n              <IconButton\n                color=\"primary\"\n                aria-label=\"send message\"\n                component=\"span\"\n                onClick={(e: any) => handleNewMessage(e)}\n              >\n                <SendIcon className={classes.block} color=\"inherit\" />\n              </IconButton>\n            </label>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </form>\n  );\n}\n\nexport const ChatInputBox = withStyles(styles)(ChatInputBoxC);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar RADIUS_STANDARD = 10;\nvar RADIUS_DOT = 4;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'inline-flex',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the badge `span` element. */\n    badge: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      alignContent: 'center',\n      alignItems: 'center',\n      position: 'absolute',\n      boxSizing: 'border-box',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(12),\n      minWidth: RADIUS_STANDARD * 2,\n      lineHeight: 1,\n      padding: '0 6px',\n      height: RADIUS_STANDARD * 2,\n      borderRadius: RADIUS_STANDARD,\n      zIndex: 1,\n      // Render the badge on top of potential ripples.\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      backgroundColor: theme.palette.error.main,\n      color: theme.palette.error.contrastText\n    },\n\n    /* Styles applied to the root element if `variant=\"dot\"`. */\n    dot: {\n      borderRadius: RADIUS_DOT,\n      height: RADIUS_DOT * 2,\n      minWidth: RADIUS_DOT * 2,\n      padding: 0\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginTopRightRectangle: {\n      top: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomRightRectangle: {\n      bottom: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginTopLeftRectangle: {\n      top: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomLeftRectangle: {\n      bottom: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"circle\"`. */\n    anchorOriginTopRightCircle: {\n      top: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"circle\"`. */\n    anchorOriginBottomRightCircle: {\n      bottom: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"circle\"`. */\n    anchorOriginTopLeftCircle: {\n      top: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"circle\"`. */\n    anchorOriginBottomLeftCircle: {\n      bottom: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Pseudo-class to the badge `span` element if `invisible={true}`. */\n    invisible: {\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    }\n  };\n};\nvar Badge = React.forwardRef(function Badge(props, ref) {\n  var _props$anchorOrigin = props.anchorOrigin,\n      anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'top',\n    horizontal: 'right'\n  } : _props$anchorOrigin,\n      badgeContent = props.badgeContent,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      ComponentProp = _props$component === void 0 ? 'span' : _props$component,\n      invisibleProp = props.invisible,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 99 : _props$max,\n      _props$overlap = props.overlap,\n      overlap = _props$overlap === void 0 ? 'rectangle' : _props$overlap,\n      _props$showZero = props.showZero,\n      showZero = _props$showZero === void 0 ? false : _props$showZero,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchorOrigin\", \"badgeContent\", \"children\", \"classes\", \"className\", \"color\", \"component\", \"invisible\", \"max\", \"overlap\", \"showZero\", \"variant\"]);\n\n  var invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContent === 0 && !showZero || badgeContent == null && variant !== 'dot')) {\n    invisible = true;\n  }\n\n  var displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent > max ? \"\".concat(max, \"+\") : badgeContent;\n  }\n\n  return /*#__PURE__*/React.createElement(ComponentProp, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), children, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.badge, classes[\"\".concat(anchorOrigin.horizontal).concat(capitalize(anchorOrigin.vertical), \"}\")], classes[\"anchorOrigin\".concat(capitalize(anchorOrigin.vertical)).concat(capitalize(anchorOrigin.horizontal)).concat(capitalize(overlap))], color !== 'default' && classes[\"color\".concat(capitalize(color))], invisible && classes.invisible, variant === 'dot' && classes.dot)\n  }, displayValue));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the badge will be invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   */\n  overlap: PropTypes.oneOf(['circle', 'rectangle']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['dot', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBadge'\n})(Badge);","import React, { useEffect, useRef } from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport {\n  Avatar,\n  Badge,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Typography,\n} from '@material-ui/core';\nimport { IChat } from '../../../models/chats.model';\nimport { Dictionary } from 'react-redux-firebase';\nimport { IProfile } from '../../../models/rooms.model';\nimport { dateUtils } from '../../../utils/date.utils';\n\nconst StyledBadge = withStyles((theme: Theme) =>\n  createStyles({\n    badge: {\n      backgroundColor: '#44b700',\n      color: '#44b700',\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n      '&::after': {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        borderRadius: '50%',\n        animation: '$ripple 1.2s infinite ease-in-out',\n        border: '1px solid currentColor',\n        content: '\"\"',\n      },\n    },\n    '@keyframes ripple': {\n      '0%': {\n        transform: 'scale(.8)',\n        opacity: 1,\n      },\n      '100%': {\n        transform: 'scale(2.4)',\n        opacity: 0,\n      },\n    },\n  })\n)(Badge);\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      backgroundColor: theme.palette.background.paper,\n      overflowY: 'scroll',\n    },\n    inline: {\n      display: 'inline',\n    },\n  });\n\ninterface ChatListElementProps extends WithStyles<typeof styles> {\n  chat: IChat | null;\n  usersProfiles: Dictionary<IProfile>;\n  listStyles?: Object;\n}\n\nfunction ChatListElementC(props: ChatListElementProps) {\n  const { classes, chat, usersProfiles, listStyles } = props;\n\n  const listRef = useRef(null);\n\n  useEffect(() => {\n    if (listRef && listRef.current) {\n      (listRef.current as any).scrollTop = (listRef.current as any).scrollHeight;\n    }\n  });\n\n  if (listRef && listRef.current) {\n    (listRef.current as any).scrollTop = (listRef.current as any).scrollHeight;\n  }\n\n  const renderElement = () => {\n    if (!chat || !chat.messages.length) return '';\n\n    return chat?.messages.map((message, id) => {\n      const { displayName, photoURL, avatarUrl, connected } = usersProfiles[message.uid] || {};\n      return (\n        <React.Fragment key={message.createdAt}>\n          {!!id && <Divider variant=\"inset\" component=\"li\" light={true} />}\n          <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n              {connected ? (\n                <StyledBadge\n                  overlap=\"circle\"\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                  }}\n                  variant=\"dot\"\n                >\n                  <Avatar alt={displayName} src={avatarUrl || photoURL} />\n                </StyledBadge>\n              ) : (\n                <Avatar alt={displayName} src={avatarUrl || photoURL} />\n              )}\n            </ListItemAvatar>\n            <ListItemText\n              primary={\n                <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\">\n                  <Typography component={'span'} variant={'body1'}>\n                    {displayName}\n                  </Typography>\n                  <Typography component={'span'} variant={'caption'} color={'textSecondary'}>\n                    {dateUtils.timeStampToDetailedTime(message.createdAt)}\n                  </Typography>\n                </Grid>\n              }\n              secondary={message.content}\n            />\n          </ListItem>\n        </React.Fragment>\n      );\n    });\n  };\n\n  return (\n    <List ref={listRef} style={listStyles} className={classes.root}>\n      {renderElement()}\n    </List>\n  );\n}\n\nexport const ChatMessage = withStyles(styles)(ChatListElementC);\n","import AppBar from '@material-ui/core/AppBar';\nimport Paper from '@material-ui/core/Paper';\nimport React from 'react';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Dictionary, useFirestore } from 'react-redux-firebase';\nimport { Grid, Slide } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\n\nimport { ChatInputBox } from './components/ChatInputBox';\nimport { ChatMessage } from './components/ChatMessage';\nimport { chatsSelectors } from '../../store/chats/chats.selectors';\nimport { firebaseSelectors } from '../../store/firebase/firebase.selectors';\nimport { firestoreSelectors } from '../../store/firebase/firestore.selectors';\nimport { IChat, IChatMessage } from '../../models/chats.model';\nimport { IProfile } from '../../models/rooms.model';\nimport { FirestoreCollection } from '../../models/firebase.model';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    paper: {\n      maxWidth: 936,\n      margin: 'auto',\n      overflow: 'hidden',\n    },\n    searchBar: {\n      borderTop: '1px solid rgba(0, 0, 0, 0.12)',\n    },\n    contentWrapper: {\n      padding: '16px 16px',\n      width: '100%',\n    },\n  });\n\ninterface ChatProps extends WithStyles<typeof styles> {\n  height?: string;\n  visible?: boolean;\n}\n\nfunction ChatC(props: ChatProps) {\n  const { classes, height = '40vh', visible = true } = props;\n  const firestore = useFirestore();\n  const selectedChatUid: string | null = useSelector(chatsSelectors.selectedChat);\n  const selectedChat: IChat | null = useSelector(firestoreSelectors.getChat(selectedChatUid)) || null;\n\n  const userProfile: IProfile = useSelector(firebaseSelectors.userProfile);\n  const usersProfiles: Dictionary<IProfile> = useSelector(firestoreSelectors.usersProfiles);\n\n  const onNewMessage = (message: string) => {\n    let documentRef = firestore.doc(`${FirestoreCollection.CHATS}/${selectedChatUid}`);\n\n    const newMessage: IChatMessage = {\n      createdAt: Date.now().toString(),\n      content: message,\n      uid: userProfile.uid,\n    };\n\n    firestore.runTransaction((t: any) => {\n      return t\n        .get(documentRef)\n        .then((doc: any) => {\n          const messages = [...doc.data().messages, newMessage];\n          return t.update(documentRef, { messages });\n        })\n        .catch((err: any) => {\n          // TODO: add toast message\n          // TRANSACTION_FAILURE action dispatched\n          console.log('Transaction failure:', err);\n        });\n    });\n  };\n\n  return (\n    <Slide direction=\"up\" in={visible}>\n      <Paper className={classes.paper}>\n        <Grid container direction=\"column\" justify=\"space-between\" alignItems=\"flex-end\">\n          <div className={classes.contentWrapper}>\n            <ChatMessage chat={selectedChat} usersProfiles={usersProfiles} listStyles={{ height }} />\n          </div>\n          <AppBar className={classes.searchBar} position=\"static\" color=\"default\" elevation={0}>\n            <ChatInputBox onNewMessage={message => onNewMessage(message)} />\n          </AppBar>\n        </Grid>\n      </Paper>\n    </Slide>\n  );\n}\n\nexport default withStyles(styles)(ChatC);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      height: 1,\n      margin: 0,\n      // Reset browser default style.\n      border: 'none',\n      flexShrink: 0,\n      backgroundColor: theme.palette.divider\n    },\n\n    /* Styles applied to the root element if `absolute={true}`. */\n    absolute: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `variant=\"inset\"`. */\n    inset: {\n      marginLeft: 72\n    },\n\n    /* Styles applied to the root element if `light={true}`. */\n    light: {\n      backgroundColor: fade(theme.palette.divider, 0.08)\n    },\n\n    /* Styles applied to the root element if `variant=\"middle\"`. */\n    middle: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      height: '100%',\n      width: 1\n    },\n\n    /* Styles applied to the root element if `flexItem={true}`. */\n    flexItem: {\n      alignSelf: 'stretch',\n      height: 'auto'\n    }\n  };\n};\nvar Divider = React.forwardRef(function Divider(props, ref) {\n  var _props$absolute = props.absolute,\n      absolute = _props$absolute === void 0 ? false : _props$absolute,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'hr' : _props$component,\n      _props$flexItem = props.flexItem,\n      flexItem = _props$flexItem === void 0 ? false : _props$flexItem,\n      _props$light = props.light,\n      light = _props$light === void 0 ? false : _props$light,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$role = props.role,\n      role = _props$role === void 0 ? Component !== 'hr' ? 'separator' : undefined : _props$role,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'fullWidth' : _props$variant,\n      other = _objectWithoutProperties(props, [\"absolute\", \"classes\", \"className\", \"component\", \"flexItem\", \"light\", \"orientation\", \"role\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'fullWidth' && classes[variant], absolute && classes.absolute, flexItem && classes.flexItem, light && classes.light, orientation === 'vertical' && classes.vertical),\n    role: role,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Divider.propTypes = {\n  /**\n   * Absolutely position the element.\n   */\n  absolute: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, a vertical divider will have the correct height when used in flex container.\n   * (By default, a vertical divider will have a calculated height of `0px` if it is the child of a flex container.)\n   */\n  flexItem: PropTypes.bool,\n\n  /**\n   * If `true`, the divider will have a lighter color.\n   */\n  light: PropTypes.bool,\n\n  /**\n   * The divider orientation.\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['fullWidth', 'inset', 'middle'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDivider'\n})(Divider);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Create');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;"],"sourceRoot":""}