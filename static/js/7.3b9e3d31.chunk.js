(this["webpackJsonpreact-redux-firebase-typescript-example"]=this["webpackJsonpreact-redux-firebase-typescript-example"]||[]).push([[7],{656:function(e,t,a){"use strict";a.r(t);var r=a(103),n=a(601),o=a(224),i=a(0),l=a.n(i),c=a(558),s=a(6),u=a(27),d=a(553),m=a(603),f=a(12),p=a(121),g=a(696),h=a.n(g),b=a(697),v=a.n(b),O=a(607),y=a(602),j=a(543);var x=Object(s.a)((function(e){return Object(c.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},block:{display:"block"},searchInput:{fontSize:e.typography.fontSize}})}))((function(e){var t=e.classes,a=e.onNewMessage,r=Object(i.useState)(""),n=Object(p.a)(r,2),o=n[0],c=n[1],s=function(e){e.preventDefault(),o.length&&(a(o),c(""))};return l.a.createElement("form",{onSubmit:function(e){return s(e)}},l.a.createElement(y.a,null,l.a.createElement(m.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(m.a,{item:!0},l.a.createElement(h.a,{className:t.block,color:"inherit"})),l.a.createElement(m.a,{item:!0,xs:!0},l.a.createElement(O.a,{id:"ChatInputBox",fullWidth:!0,placeholder:"Type message..",InputProps:{disableUnderline:!0,className:t.searchInput},onChange:function(e){return c(e.target.value)},value:o})),l.a.createElement(m.a,{item:!0},l.a.createElement("label",{htmlFor:"ChatInputBox"},l.a.createElement(j.a,{color:"primary","aria-label":"send message",component:"span",onClick:function(e){return s(e)}},l.a.createElement(v.a,{className:t.block,color:"inherit"})))))))})),E=a(1),C=a(2),k=(a(5),a(4)),S=a(8),w=i.forwardRef((function(e,t){var a=e.anchorOrigin,r=void 0===a?{vertical:"top",horizontal:"right"}:a,n=e.badgeContent,o=e.children,l=e.classes,c=e.className,s=e.color,u=void 0===s?"default":s,d=e.component,m=void 0===d?"span":d,f=e.invisible,p=e.max,g=void 0===p?99:p,h=e.overlap,b=void 0===h?"rectangle":h,v=e.showZero,O=void 0!==v&&v,y=e.variant,j=void 0===y?"standard":y,x=Object(C.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),w=f;null==f&&(0===n&&!O||null==n&&"dot"!==j)&&(w=!0);var N="";return"dot"!==j&&(N=n>g?"".concat(g,"+"):n),i.createElement(m,Object(E.a)({className:Object(k.a)(l.root,c),ref:t},x),o,i.createElement("span",{className:Object(k.a)(l.badge,l["".concat(r.horizontal).concat(Object(S.a)(r.vertical),"}")],l["anchorOrigin".concat(Object(S.a)(r.vertical)).concat(Object(S.a)(r.horizontal)).concat(Object(S.a)(b))],"default"!==u&&l["color".concat(Object(S.a)(u))],w&&l.invisible,"dot"===j&&l.dot)},N))})),N=Object(s.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(w),R=a(695),I=a(545),T=a(605),z=a(623),W=a(606),L=a(599),M=Object(s.a)((function(e){return Object(c.a)({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})}))(N);var B=Object(s.a)((function(e){return Object(c.a)({root:{width:"100%",backgroundColor:e.palette.background.paper,overflowY:"scroll"},inline:{display:"inline"}})}))((function(e){var t=e.classes,a=e.chat,r=e.usersProfiles,n=e.listStyles,o=Object(i.useRef)(null);return Object(i.useEffect)((function(){o&&o.current&&(o.current.scrollTop=o.current.scrollHeight)})),o&&o.current&&(o.current.scrollTop=o.current.scrollHeight),l.a.createElement(L.a,{ref:o,style:n,className:t.root},a&&a.messages.length?null===a||void 0===a?void 0:a.messages.map((function(e,t){var a=r[e.uid]||{},n=a.displayName,o=a.photoURL,i=a.connected;return l.a.createElement(l.a.Fragment,{key:e.createdAt},!!t&&l.a.createElement(R.a,{variant:"inset",component:"li",light:!0}),l.a.createElement(I.a,{alignItems:"flex-start"},l.a.createElement(T.a,null,i?l.a.createElement(M,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},l.a.createElement(z.a,{alt:n,src:o})):l.a.createElement(z.a,{alt:n,src:o})),l.a.createElement(W.a,{primary:n,secondary:e.content})))})):"")})),$=a(150),P=a(36),F=a(81),A=a(52);t.default=Object(s.a)((function(e){return Object(c.a)({paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderTop:"1px solid rgba(0, 0, 0, 0.12)"},contentWrapper:{padding:"16px 16px",width:"100%"}})}))((function(e){var t=e.classes,a=e.height,i=void 0===a?"40vh":a,c=e.visbile,s=void 0===c||c,p=Object(u.useFirestore)(),g=Object(f.useSelector)($.a.selectedChat),h=Object(f.useSelector)(F.a.getChat(g))||null,b=Object(f.useSelector)(P.a.userProfile),v=Object(f.useSelector)(F.a.usersProfiles);return l.a.createElement(d.a,{direction:"up",in:s},l.a.createElement(o.a,{className:t.paper},l.a.createElement(m.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-end"},l.a.createElement("div",{className:t.contentWrapper},l.a.createElement(B,{chat:h,usersProfiles:v,listStyles:{height:i}})),l.a.createElement(n.a,{className:t.searchBar,position:"static",color:"default",elevation:0},l.a.createElement(x,{onNewMessage:function(e){return function(e){var t=p.doc("".concat(A.a.CHATS,"/").concat(g)),a={createdAt:Date.now().toString(),content:e,uid:b.uid};p.runTransaction((function(e){return e.get(t).then((function(n){var o=[].concat(Object(r.a)(n.data().messages),[a]);return e.update(t,{messages:o})})).catch((function(e){console.log("Transaction failure:",e)}))}))}(e)}})))))}))},695:function(e,t,a){"use strict";var r=a(1),n=a(2),o=a(0),i=(a(5),a(4)),l=a(6),c=a(41),s=o.forwardRef((function(e,t){var a=e.absolute,l=void 0!==a&&a,c=e.classes,s=e.className,u=e.component,d=void 0===u?"hr":u,m=e.flexItem,f=void 0!==m&&m,p=e.light,g=void 0!==p&&p,h=e.orientation,b=void 0===h?"horizontal":h,v=e.role,O=void 0===v?"hr"!==d?"separator":void 0:v,y=e.variant,j=void 0===y?"fullWidth":y,x=Object(n.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(d,Object(r.a)({className:Object(i.a)(c.root,s,"fullWidth"!==j&&c[j],l&&c.absolute,f&&c.flexItem,g&&c.light,"vertical"===b&&c.vertical),role:O,ref:t},x))}));t.a=Object(l.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(c.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},696:function(e,t,a){"use strict";var r=a(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(63)).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.default=o},697:function(e,t,a){"use strict";var r=a(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(63)).default)(n.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=o}}]);
//# sourceMappingURL=7.3b9e3d31.chunk.js.map