(this["webpackJsonproll-a-dice"]=this["webpackJsonproll-a-dice"]||[]).push([[2],{112:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(29),i=a(11),c=a(19),l=a(42),s=a(50),u=a(71),m=a(191),d=a(192),f=a(368),p=a(660),b=(a(116),a(657)),h=a(655),g=a(658),v=a(654),E=a(656),O=a(268),j=a(57),y=a(139),S=a(120),D=function(){function e(){var t=this;Object(m.a)(this,e),this.store=S.a,this.takeUntil$=new f.a,this._store$=new p.a(1),this._storeUnsubscribeFn=void 0,this._storeUnsubscribeFn=this.store.subscribe((function(){t._store$.next(t.store.getState())}))}return Object(d.a)(e,[{key:"getDiceSetForm",value:function(){return this.store$.pipe(Object(v.a)((function(e){return e.form.diceSetForm})))}},{key:"getSelectedRoomData$",value:function(){return this.store$.pipe(Object(v.a)((function(e){return e.firestore.data.selectedRoom})),Object(h.a)((function(e){return!!e})))}},{key:"getSelectedRoomDataLogs$",value:function(){return this.getSelectedRoomData$().pipe(Object(v.a)((function(e){return e.logs})))}},{key:"getLastRoomLogOnChange$",value:function(){return this.getSelectedRoomDataLogs$().pipe(Object(v.a)((function(e){return Object(s.a)(e).pop()})),Object(h.a)((function(e){return!!e})),Object(E.a)((function(e,t){return e.timestamp===t.timestamp})))}},{key:"getUserProfile$",value:function(){return this.store$.pipe(Object(v.a)((function(e){return e.firebase.profile})))}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"hostDestroyed",value:function(){this.takeUntil$.next(),this._storeUnsubscribeFn(),e.instance=null}},{key:"store$",get:function(){return this._store$.asObservable()}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();D.instance=void 0;var R=function(){function e(t){Object(m.a)(this,e),this.firestore=t,this.diceThrow$=new f.a,this.diceBeforeThrow$=new f.a,this.diceThrowResult$=new p.a(1),this.profile=null,this.roomUid=null,this.takeUntil$=new f.a,this.storeService=D.getInstance(),this.createSubscriptions()}return Object(d.a)(e,[{key:"hostDestroyed",value:function(){this.takeUntil$.next(),e.instance=null,this.setDiceRolling(!1)}},{key:"createSubscriptions",value:function(){var e=this;this.diceBeforeThrow$.pipe(Object(b.a)(this.takeUntil$)).subscribe((function(t){e.setDiceRolling(!0)})),this.diceThrowResult$.pipe(Object(b.a)(this.takeUntil$)).subscribe((function(t){e.setDiceRolling(!1),t.emit&&e.firestoreAddNewThrow(t)})),this.performDiceThrowWhenNewDiceThrowLogAppears()}},{key:"setDiceRolling",value:function(e){this.storeService.dispatch(O.a.diceRolling(e))}},{key:"firestoreAddNewThrow",value:function(e){var t=this;if(this.roomUid){e.emit;var a=Object(u.a)(e,["emit"]),n=this.firestore.doc("".concat(j.a.ROOMS,"/").concat(this.roomUid));this.firestore.runTransaction((function(e){return e.get(n).then((function(r){var o,i={authorUid:null===(o=t.profile)||void 0===o?void 0:o.uid,payload:a,timestamp:Date.now().toString(),type:y.a.DICE_ROLL},c=[].concat(Object(s.a)(r.data().logs),[i]);return e.update(n,{logs:c})})).catch((function(e){console.log("Transaction failure:",e)}))}))}}},{key:"performDiceThrowWhenNewDiceThrowLogAppears",value:function(){var e=this;this.storeService.getLastRoomLogOnChange$().pipe(Object(h.a)((function(e){return e.type===y.a.DICE_ROLL})),Object(g.a)(this.storeService.getUserProfile$()),Object(h.a)((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return!!n.uid&&a.authorUid!==n.uid})),Object(b.a)(this.takeUntil$)).subscribe((function(t){var a=Object(l.a)(t,1)[0];e.diceThrow$.next(Object(c.a)({},a.payload))}))}},{key:"handleDiceSetFormChanges$",get:function(){return this.storeService.getDiceSetForm().pipe(Object(v.a)((function(e){return null===e||void 0===e?void 0:e.values})),Object(E.a)((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),Object(h.a)((function(e){return!!e})),Object(v.a)((function(e){return function(e){return Object.keys(e).map((function(t){return e[t]?e[t]+t:""})).filter((function(e){return!!e.length})).join("+")}(e)})),Object(b.a)(this.takeUntil$))}}],[{key:"getInstance",value:function(t){return e.instance||(e.instance=new e(t)),e.instance}}]),e}();R.instance=void 0;var w=a(32),C=a(62);a.d(t,"a",(function(){return T})),a.d(t,"b",(function(){return x}));var T=r.a.createContext(null),x=function(e){var t=e.children,a=Object(o.useFirestore)(),c=R.getInstance(a),l=Object(i.useSelector)(w.a.userProfile),s=Object(i.useSelector)(C.a.selectedRoomUid);return Object(n.useEffect)((function(){c.profile=l}),[l]),Object(n.useEffect)((function(){c.roomUid=s||null}),[s]),Object(n.useEffect)((function(){return function(){return c.hostDestroyed()}}),[]),r.a.createElement(T.Provider,{value:c},t)}},120:function(e,t,a){"use strict";var n=a(366),r=a(20),o=a(29),i=a(193),c=a(19),l=a(662),s=a(257),u=a.n(s),m=a(189),d={selectedChat:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a.SELECTED:return Object(c.a)({},e,{selectedChat:t.payload});default:return e}},p=a(194),b={match:{params:{},isExact:!1,path:"",url:""}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a.MATCH_CHANGE:return Object(c.a)({},e,{match:t.payload});default:return e}},g=a(56),v={selectedRoom:null,drawerOpened:!0,chatOpened:!0,playersOpened:!0,diceRolling:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.a.SELECTED:return Object(c.a)({},e,{selectedRoom:t.payload});case g.a.SET_DRAWER_OPEN_VALUE:return Object(c.a)({},e,{drawerOpened:t.payload});case g.a.SET_CHAT_OPEN_VALUE:return Object(c.a)({},e,{chatOpened:t.payload});case g.a.SET_PLAYERS_OPEN_VALUE:return Object(c.a)({},e,{playersOpened:t.payload});case g.a.SET_DICE_ROLLING:return Object(c.a)({},e,{diceRolling:t.payload});default:return e}};Object(r.c)({firebase:o.firebaseReducer,firestore:u.a});a.d(t,"a",(function(){return O}));var O=function(e){var t=[];if(window&&window.location&&"localhost"===window.location.hostname){var a=window.__REDUX_DEVTOOLS_EXTENSION__;"function"===typeof a&&t.push(a())}var s=[n.a.withExtraArgument({getFirebase:o.getFirebase,getFirestore:i.getFirestore})];0;return Object(r.e)(Object(r.c)(Object(c.a)({firebase:o.firebaseReducer,firestore:u.a,chats:f,rooms:E,location:h,form:l.a},m)),e,r.d.apply(void 0,[r.a.apply(void 0,s)].concat(t)));var m}(window.___INITIAL_STATE__||{firebase:{authError:null}})},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var n,r=a(7);!function(e){e.DICE_ROLL="DICE_ROLL"}(n||(n={}));var o={roomName:{name:"roomName",label:"Name of the Room *",fullWidth:!0},description:{name:"description",label:"Room description",multiline:!0,fullWidth:!0},campaignTitle:{name:"campaignTitle",label:"Current campaign tittle",multiline:!1,fullWidth:!0},roomImage:{name:"roomImage",label:"Room image URL",multiline:!1,fullWidth:!0},gameMasterAvatar:{name:"gameMasterAvatar",label:"Game master avatar URL",multiline:!1,fullWidth:!0},maxPlayers:{name:"maxPlayers",label:"Maximum players *",multiline:!1,fullWidth:!0,type:"number",InputProps:{inputProps:{min:1,max:8}}},diceType:{name:"diceType",label:"Allowed dice *",options:[{label:r.a.D4,value:r.a.D4},{label:r.a.D6,value:r.a.D6},{label:r.a.D8,value:r.a.D8},{label:r.a.D10,value:r.a.D10},{label:r.a.D12,value:r.a.D12},{label:r.a.D20,value:r.a.D20},{label:r.a.D100,value:r.a.D100}]},d4:{name:r.a.D4,label:r.a.D4},d6:{label:r.a.D6,name:r.a.D6},d8:{label:r.a.D8,name:r.a.D8},d10:{label:r.a.D10,name:r.a.D10},d12:{label:r.a.D12,name:r.a.D12},d20:{label:r.a.D20,name:r.a.D20},d100:{label:r.a.D100,name:r.a.D100}};r.a.D4,r.a.D4,r.a.D6,r.a.D6,r.a.D8,r.a.D8,r.a.D10,r.a.D10,r.a.D12,r.a.D12,r.a.D20,r.a.D20,r.a.D100,r.a.D100},149:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={match:function(e){return e.location.match}}},176:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={selectedChat:function(e){return e.chats.selectedChat},profilesUidFromSelectedChat:function(e){var t,a,n;return e.chats.selectedChat&&(null===(t=e.firestore.data)||void 0===t||null===(a=t.userChats)||void 0===a||null===(n=a[e.chats.selectedChat])||void 0===n?void 0:n.players)||[]}}},188:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(65),r=a(189),o={setSelectedChat:function(e){return Object(n.action)(r.a.SELECTED,e)}}},189:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.SELECTED="@@chats/SELECTED"}(n||(n={}))},194:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.MATCH_CHANGE="@@location/MATCH_CHANGE"}(n||(n={}))},21:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.CHATS_PATH="/chats",e.CHATS_PATH_ID="/chats/:chatId",e.HOME_PATH="/",e.ROOM_CREATE_PATH="/rooms/create",e.ROOM_PATH="/room",e.ROOMS_PATH="/rooms",e.ROOMS_PATH_ID="/room/:roomId"}(n||(n={}))},255:function(e,t,a){"use strict";var n=a(636),r=a(638),o=a(259),i=a(0),c=a.n(i),l=a(337),s=a.n(l),u=a(585),m=a(637),d=a(594),f=a(5),p=a(632),b=a(11),h=a(583),g=a(640),v=a(664),E=a(641),O=a(634),j=a(335),y=a(336);var S,D=c.a.memo(Object(f.a)((function(e){return Object(d.a)({root:{width:"100%",backgroundColor:e.palette.background.paper,height:"20vh",overflowY:"scroll"},item:{cursor:"pointer"}})}))((function(e){var t=e.classes,a=e.chats,n=e.onChatClick,r=e.selectedChat;return c.a.createElement(O.a,{className:t.root},Object.keys(a).map((function(e,o){return c.a.createElement(p.a,{key:e,in:!0,timeout:1e3*o+300},c.a.createElement(h.a,{onClick:function(){return n(e)},selected:e===r,className:t.item,button:!0,dense:!0,alignItems:"flex-start"},c.a.createElement(g.a,null,c.a.createElement(v.a,null,Object(j.a)(a[e].roomName||"No name"))),c.a.createElement(E.a,{primary:a[e].roomName||"No name",secondary:Object(y.a)(a[e].createdAt)})))})))}))),R=a(188),w=a(176),C=a(96);a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return T})),function(e){e.EMBEDDED="EMBEDDED",e.CARD="CARD"}(S||(S={}));var T=Object(f.a)((function(e){return Object(d.a)({paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"16px 16px"}})}))((function(e){var t=e.classes,a=e.showSearchBar,l=void 0===a||a,d=e.viewType,f=void 0===d?S.CARD:d,h=Object(b.useSelector)(C.a.userChats)||{},g=Object(b.useSelector)(w.a.selectedChat),v=Object(b.useDispatch)();Object(i.useEffect)((function(){return function(){v(R.a.setSelectedChat(null))}}),[]),Object(i.useEffect)((function(){!g&&Object.keys(h||{}).length&&v(R.a.setSelectedChat(Object.keys(h)[0]))}),[!!g,0===Object.keys(h||{}).length]);var E=function(e){v(R.a.setSelectedChat(e))};return c.a.createElement(p.a,{in:!0},f===S.CARD?c.a.createElement(o.a,{className:t.paper},l&&c.a.createElement(n.a,{className:t.searchBar,position:"static",color:"default",elevation:0},c.a.createElement(m.a,null,c.a.createElement(r.a,{container:!0,spacing:2,alignItems:"center"},c.a.createElement(r.a,{item:!0},c.a.createElement(s.a,{className:t.block,color:"inherit"})),c.a.createElement(r.a,{item:!0,xs:!0},c.a.createElement(u.a,{fullWidth:!0,placeholder:"Search chat by room name or players",InputProps:{disableUnderline:!0,className:t.searchInput}}))))),c.a.createElement("div",{className:t.contentWrapper},c.a.createElement(D,{chats:h,onChatClick:E,selectedChat:g}))):c.a.createElement(D,{chats:h,onChatClick:E,selectedChat:g}))}))},263:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(50),r=a(96),o=a(176),i={getAllNeededPlayersUid:function(e){var t,a=(null===(t=r.a.selectedRoom(e))||void 0===t?void 0:t.players)||[],i=o.a.profilesUidFromSelectedChat(e)||[];return[].concat(Object(n.a)(i),Object(n.a)(a)).filter((function(e,t,a){return a.indexOf(e)===t}))},isGameMasterOfSelectedRoom:function(e){return(e.firestore.data.selectedRoom?e.firestore.data.selectedRoom.gameMaster.uid:"unknown")===e.firebase.profile.uid},getFormCreateRoom:function(e){return e.form.createRoom.values},isUserARoomPlayerOrGameMaster:function(e){var t,a;return!(!e.firestore.data.selectedRoom||!e.firebase.profile.uid)&&((null===(t=e.firestore.data.selectedRoom)||void 0===t?void 0:t.players.indexOf(e.firebase.profile.uid))>-1||(null===(a=e.firestore.data.selectedRoom)||void 0===a?void 0:a.gameMaster.uid)===e.firebase.profile.uid)}}},266:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),o=a(594),i=a(5);var c=r.a.memo(Object(i.a)((function(e){return Object(o.a)({root:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"flex-start",height:"100%",width:"100%",backgroundColor:e.palette.background.default,position:"absolute",zIndex:1e4,left:0,top:0},progress:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},svg:{width:"15vw",height:"15vh"}})}))((function(e){var t=e.classes,a=e.style;return r.a.createElement("div",{className:t.root,style:a},r.a.createElement("div",{className:t.progress},r.a.createElement("img",{className:t.svg,src:"".concat("/roll-a-dice","/assets/svg/loader-knot.svg"),alt:"Roll a Dice..."})))})))},267:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(65),r=a(194),o={matchChange:function(e){return Object(n.action)(r.a.MATCH_CHANGE,e)}}},268:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(65),r=a(56),o={setSelectedRoom:function(e){return Object(n.action)(r.a.SELECTED,e)},setDrawerOpenValue:function(e){return Object(n.action)(r.a.SET_DRAWER_OPEN_VALUE,e)},setChatOpenValue:function(e){return Object(n.action)(r.a.SET_CHAT_OPEN_VALUE,e)},setPlayersOpenValue:function(e){return Object(n.action)(r.a.SET_PLAYERS_OPEN_VALUE,e)},diceRolling:function(e){return Object(n.action)(r.a.SET_DICE_ROLLING,e)}}},269:function(e,t,a){"use strict";a.d(t,"c",(function(){return j})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return S}));var n=a(50),r=a(71),o=a(0),i=a.n(o),c=a(374),l=a(585),s=a(260),u=a(372),m=a(375),d=a(261),f=a(376),p=a(373),b=a(591),h=a(596),g=a(148),v=a(590),E=Object(v.a)((function(e){return{formField:{marginBottom:e.spacing(2)},sliderFormField:{width:"100%",marginLeft:0}}})),O=function(e){var t=e.touched,a=e.error;return t&&a?i.a.createElement(c.a,null,t&&a):void 0},j=i.a.memo((function(e){var t=E();return i.a.createElement(g.a,Object.assign({},e,{component:function(e){var t=e.label,a=e.input,n=e.meta,o=n.touched,c=n.invalid,s=n.error,u=Object(r.a)(e,["label","input","meta"]);return i.a.createElement(l.a,Object.assign({variant:"outlined",label:t,placeholder:t,error:o&&c,helperText:o&&s},a,u))},className:t.formField}))})),y=(i.a.memo((function(e){var t=E();return i.a.createElement(g.a,Object.assign({},e,{type:"checkbox",component:function(e){var t=e.input,a=(e.label,e.meta),n=a.touched,o=a.error,c=e.children,l=Object(r.a)(e,["input","label","meta","children"]);return i.a.createElement(s.a,{error:n&&o},i.a.createElement(u.a,{htmlFor:"age-native-simple"},"Age"),i.a.createElement(m.a,Object.assign({variant:"outlined",native:!0},t,l,{inputProps:{name:"age",id:"age-native-simple"}}),c),O({touched:n,error:o}))},className:t.formField}))})),i.a.memo((function(e){var t=E();return i.a.createElement(g.a,Object.assign({},e,{type:"checkbox",component:function(e){var t=e.input,a=e.label;return i.a.createElement(d.a,{control:i.a.createElement(f.a,{checked:!!t.value,onChange:t.onChange}),label:a})},className:t.formField}))})),i.a.memo((function(e){var t=E();return i.a.createElement(g.a,Object.assign({},e,{type:"checkbox",component:function(e){var t=e.input,a=e.meta,r=e.options,o=e.label,c=t.name,l=t.onChange,u=a.touched,m=a.error,h=t.value,g=r.map((function(e,t){var a=e.label,r=e.value,o=h.includes(r);return i.a.createElement(d.a,{key:t,control:i.a.createElement(f.a,{checked:o,onChange:function(e){var t=Object(n.a)(h);return e.target.checked?t.push(r):t.splice(t.indexOf(r),1),l(t)},name:"".concat(c,"[").concat(t,"]"),value:r}),label:a})}));return i.a.createElement(s.a,{error:u&&!!m,component:"fieldset"},i.a.createElement(p.a,{component:"legend"},o),i.a.createElement(b.a,{row:!0},g),O({touched:u,error:m}))},className:t.formField}))}))),S=i.a.memo((function(e){var t=E();function a(e){return"".concat(e)}return i.a.createElement(g.a,Object.assign({},e,{component:function(e){var n=e.min,o=void 0===n?0:n,c=e.max,l=void 0===c?16:c,s=e.label,u=e.input,m=u.value,f=u.onChange,p=Object(r.a)(u,["value","onChange"]),b=e.meta,g=(b.touched,b.invalid,b.error,Object(r.a)(e,["min","max","label","input","meta"]));return i.a.createElement(d.a,{className:t.sliderFormField,label:s,labelPlacement:"start",control:i.a.createElement(h.a,Object.assign({defaultValue:0,getAriaValueText:a,"aria-labelledby":"number-of-dices",valueLabelDisplay:"auto",step:1,marks:!0,min:o,max:l,value:"number"===typeof m?m:0,onChange:function(e,t){return f(t)}},p,g))})},className:t.formField}))}))},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={isRequesting:function(e){return!Object.values(e.firestore.status.requesting).every((function(e){return!e}))},userProfile:function(e){return e.firebase.auth},authenticatingSelector:function(e){var t=e.firebase,a=t.auth,n=t.isInitializing;return!a.isLoaded||n},isAuthenticated:function(e){var t=e.firebase.auth;return!t.isEmpty&&!!t.uid},userConnected:function(e){return e.firebase.data.connected},applicationStats:function(e){return e.firebase.data.applicationStats}}},335:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e.split(" ").map((function(e){return e.charAt(0)})).join("").substring(0,2).toUpperCase()}},336:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(360),r=a.n(n),o=function(e){return r()(e).format("dddd, MMMM D YYYY")}},355:function(e,t,a){"use strict";var n,r=a(42),o=a(4),i=a(0),c=a.n(i),l=a(632),s=a(646),u=a(648),m=a(642),d=a(647),f=a(594),p=a(5),b=a(368),h=a(657),g=a(45),v=a(659),E=a(590),O=a(139),j=a(7),y=a(269),S=Object(E.a)((function(e){return{inputSlider:{width:"100%",marginLeft:e.spacing(0),paddingRight:e.spacing(2),minWidth:e.spacing(40)}}}));var D=c.a.memo(Object(v.a)({form:"diceSetForm",initialValues:(n={},Object(g.a)(n,j.a.D4,0),Object(g.a)(n,j.a.D6,0),Object(g.a)(n,j.a.D8,0),Object(g.a)(n,j.a.D10,0),Object(g.a)(n,j.a.D12,0),Object(g.a)(n,j.a.D20,0),Object(g.a)(n,j.a.D100,0),n)})((function(e){var t=e.diceType,a=S();return c.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},c.a.createElement("h2",null,"Set your dices!"),c.a.createElement("div",{className:a.inputSlider},null===t||void 0===t?void 0:t.map((function(e){return c.a.createElement(y.b,Object.assign({key:e},O.b[e]))}))))}))),R=a(50),w=a(583),C=a(124),T=a(634);var x=function(e){var t=e.throwResult;return c.a.createElement("article",null,c.a.createElement("h2",null,"Throw result:"),c.a.createElement(T.a,null,function(){if(!t)return"";var e={};return null===t||void 0===t||t.diceSet.forEach((function(a,n){e[a]=[].concat(Object(R.a)(e[a]||[]),[null===t||void 0===t?void 0:t.result[n]])})),Object.keys(e).map((function(t){return c.a.createElement(w.a,{key:t},c.a.createElement(C.a,{variant:"h2",component:"div"},t,": ",e[t].join(", ")))}))}()))},A=a(112);a.d(t,"a",(function(){return k}));var k=Object(p.a)((function(e){return Object(f.a)({root:{display:"flex",backgroundColor:"#f4f4f2ef"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:e.spacing(18)},playIcon:{height:38,width:38},clickable:{cursor:"pointer"}})}))((function(e){var t=e.classes,a=e.visible,n=void 0===a||a,f=e.room,p=new b.a,g=Object(i.useContext)(A.a),v=Object(i.useState)(null),E=Object(r.a)(v,2),O=E[0],j=E[1];return Object(i.useEffect)((function(){null===g||void 0===g||g.diceThrowResult$.pipe(Object(h.a)(p)).subscribe((function(e){return j(e)}))}),[!!g]),Object(i.useEffect)((function(){return function(){return p.next()}}),[]),c.a.createElement(l.a,{in:n},c.a.createElement(s.a,{className:Object(o.a)(t.root,!!O&&t.clickable),onClick:function(){return j(null)}},c.a.createElement("div",{className:t.details},c.a.createElement(u.a,{className:t.content},c.a.createElement(m.a,{in:!O},c.a.createElement(D,{diceType:null===f||void 0===f?void 0:f.diceType})),c.a.createElement(m.a,{in:!!O},c.a.createElement(x,{throwResult:O})))),(null===f||void 0===f?void 0:f.gameMasterAvatar)&&c.a.createElement(d.a,{className:t.cover,image:null===f||void 0===f?void 0:f.gameMasterAvatar,title:"Bot avatar"})))}))},356:function(e,t,a){"use strict";var n=a(19),r=a(42),o=a(4),i=a(0),c=a.n(i),l=a(594),s=a(5),u=a(632),m=a(259),d={idCanvas:"canvas",idLabel:"label",idSet:"set",idSelectorDiv:"selector_div",idInfoDiv:"info_div",useTrueRandom:!1,useShadows:!0,whiteDice:!1,noresult:!1,diceThrow$:null,diceThrowResult$:null},f=a(112),p=a(663);a.d(t,"a",(function(){return b}));var b=Object(s.a)((function(e){return Object(l.a)({root:{width:"100%",height:"calc(100% - ".concat(e.spacing(2),"px)"),position:"relative"},diceCanvas:{width:"100%",height:"100%",cursor:"grab"},grabbing:{cursor:"grabbing"}})}))((function(e){var t=e.classes,a=e.visible,l=void 0===a||a,s=c.a.useRef(null),b=Object(i.useRef)(null),h=Object(i.useState)(!1),g=Object(r.a)(h,2),v=g[0],E=g[1],O=Object(i.useState)(!1),j=Object(r.a)(O,2),y=j[0],S=j[1],D=Object(i.useContext)(f.a),R=s.current&&s.current.getBoundingClientRect().width||0;Object(i.useEffect)((function(){D&&!v&&0!==R&&Object(p.a)(300).subscribe((function(){window.dice_initialize(b.current,Object(n.a)({},d,{diceThrow$:D.diceThrow$,diceThrowResult$:D.diceThrowResult$,diceBeforeThrow$:D.diceBeforeThrow$,diceSet$:D.handleDiceSetFormChanges$})),E(!0)}))}),[!!R,!!D]);var w=function(e){S(e)};return c.a.createElement(u.a,{in:l},c.a.createElement(m.a,{elevation:3,className:t.root},c.a.createElement("div",{id:"diceCanvasContainer",ref:b,className:Object(o.a)(t.diceCanvas,y&&t.grabbing),onMouseDown:function(){return w(!0)},onMouseUp:function(){return w(!1)}},c.a.createElement("div",{ref:s,id:"canvas"}))))}))},369:function(e){e.exports=JSON.parse('{"a":"1.0.0"}')},388:function(e,t,a){e.exports=a(580)},393:function(e,t,a){},544:function(e,t,a){},56:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.SELECTED="@@rooms/SELECTED",e.SET_DRAWER_OPEN_VALUE="@@rooms/SET_DRAWER_OPEN_VALUE",e.SET_CHAT_OPEN_VALUE="@@rooms/SET_CHAT_OPEN_VALUE",e.SET_PLAYERS_OPEN_VALUE="@@rooms/SET_PLAYERS_OPEN_VALUE",e.SET_DICE_ROLLING="@@rooms/SET_DICE_ROLLING"}(n||(n={}))},57:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.CHATS="chats",e.USERS="users",e.ROOMS="rooms"}(n||(n={}))},580:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),c=(a(393),a(639)),l=a(370),s=a(651),u=a(11),m=a(29),d=a(95),f=a(50),p=a(57),b=function(e){var t=e&&0!==(null===e||void 0===e?void 0:e.length)?e:"unknown";return{collection:p.a.CHATS,where:[["players","array-contains",t]],storeAs:"userChats"}},h=a(32),g={getProfilesByUid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{collection:"users",where:[["uid","in",e]],storeAs:"usersProfiles"}},connected:{path:".info/connected",storeAs:"connected"}},v=function(e){return{collection:p.a.ROOMS,where:[["gameMaster.uid","==",e]],storeAs:"userRoomsAsGameMaster"}},E=function(e){return{collection:p.a.ROOMS,where:[["players","array-contains",e]],storeAs:"userRoomsAsPlayer"}},O=function(e){var t=e.length?e:"unknown";return{collection:p.a.ROOMS,doc:t,storeAs:"selectedRoom"}},j=a(62),y=a(263);function S(){var e=Object(m.useFirestore)(),t=Object(m.useFirebase)(),a=Object(u.useSelector)(h.a.userProfile),o=Object(u.useSelector)(j.a.selectedRoomUid),i=Object(f.a)(Object(u.useSelector)(y.a.getAllNeededPlayersUid)),c=Object(u.useSelector)(h.a.userConnected);function l(t){e.doc("".concat(p.a.USERS,"/").concat(a.uid)).update({connected:t})}return Object(n.useEffect)((function(){if(!0===c&&a.uid)return l(c),t.ref("".concat(p.a.USERS,"/").concat(a.uid)).onDisconnect().update({connected:!1}),function(){l(!1)}}),[c,a.uid]),Object(m.useFirebaseConnect)([g.connected]),Object(m.useFirestoreConnect)([g.getProfilesByUid(i.length?i:["unknown"]),b(a.uid),v(a.uid||"unknown"),E(a.uid||"unknown"),O(o||"unknown")]),r.a.createElement(r.a.Fragment,null)}function D(e){var t=Object(u.useSelector)(h.a.isAuthenticated);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(S,null),e.children)}var R=a(594),w=a(589),C=a(590),T=a(78),x=a(21),A=r.a.lazy((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,737))})),k={path:[x.a.CHATS_PATH_ID,x.a.CHATS_PATH],component:A},_=a(42),N=a(4),P=a(652),I=a(650),M=a(124),L=a(5),U=a(588),H=a(653),F=a(636),$=a(638),B=a(661),W=a(581),z=a(359),G=a.n(z),V=a(637),Y=a(664),J=a(371),X=a(635);var q=Object(L.a)((function(e){return Object(R.a)({iconButtonAvatar:{padding:4},avatarSize:{border:"4px solid ".concat(e.palette.primary.main),width:e.spacing(6),height:e.spacing(6)}})}))((function(e){var t=Object(m.useFirebase)(),a=Object(T.f)(),n=Object(u.useSelector)(h.a.userProfile),o=Object(u.useSelector)(h.a.isAuthenticated),i=r.a.useState(null),c=Object(_.a)(i,2),l=c[0],s=c[1],d=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{color:"inherit",className:d.iconButtonAvatar,onClick:function(e){s(e.currentTarget)}},r.a.createElement(Y.a,{src:n.avatarUrl||n.photoURL,alt:n.displayName,className:d.avatarSize})),r.a.createElement(J.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){return s(null)}},o?r.a.createElement(X.a,{onClick:function(){t.logout().then((function(){s(null),a.push(x.a.HOME_PATH)}))}},"Logout"):r.a.createElement(X.a,{onClick:function(){t.login({provider:"google",type:"popup"}).then((function(){s(null),a.push(x.a.ROOMS_PATH)})).catch((function(e){return alert(e.message)}))}},"Login with Google")))}));var K=r.a.memo(Object(L.a)((function(e){return Object(R.a)({ornament:{backgroundImage:"url(".concat("/roll-a-dice","/assets/svg/ornament-knot.svg)"),width:"100%",height:"100%",backgroundRepeatX:"repeat",backgroundRepeatY:"no-repeat",backgroundSize:"contain"},vartical:{backgroundImage:"url(".concat("/roll-a-dice","/assets/svg/ornament-knot-vartical.svg)"),backgroundRepeatX:"no-repeat",backgroundRepeatY:"repeat"}})}))((function(e){var t=e.classes,a=e.vartical;return r.a.createElement("div",{className:Object(N.a)(t.ornament,a&&t.vartical)})})));var Q=r.a.memo(Object(L.a)((function(e){return Object(R.a)({secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing(1)},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"},ornament:{bottom:"2px",height:"24px",opacity:.2,position:"absolute",zIndex:-1,width:" 100%"},avatar:{marginBottom:"-16px"}})}))((function(e){var t=e.classes,a=e.onDrawerToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{color:"primary",position:"sticky",elevation:2},r.a.createElement(V.a,null,r.a.createElement($.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(B.a,{smUp:!0},r.a.createElement($.a,{item:!0},r.a.createElement(W.a,{color:"inherit","aria-label":"open drawer",onClick:a,className:t.menuButton},r.a.createElement(G.a,null)))),r.a.createElement($.a,{item:!0,xs:!0}),r.a.createElement($.a,{item:!0},r.a.createElement("div",{className:t.avatar},r.a.createElement(q,null))))),r.a.createElement("div",{className:t.ornament},r.a.createElement(K,null))))}))),Z=a(584),ee=a(266),te=r.a.memo(Object(L.a)((function(e){return Object(R.a)({container:{opacity:0,visibility:"hidden",transitionDelay:"1300ms",transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},visible:{opacity:1,visibility:"visible"}})}))((function(e){var t=e.children,a=e.isAuthenticating,n=void 0===a||a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{in:n},r.a.createElement(ee.a,null)),t)}))),ae=a(45),ne=a(71),re=a(364),oe=a.n(re),ie=a(649),ce=a(365),le=a.n(ce),se=a(362),ue=a.n(se),me=a(363),de=a.n(me),fe=a(634),pe=a(583),be=a(255),he=a(96),ge=a(149),ve=a(361),Ee=a.n(ve),Oe=a(644),je=a(641),ye=a(665),Se=a(643),De=a(645);var Re=r.a.memo(Object(L.a)((function(e){return Object(R.a)({item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategoryWrapper:{minHeight:"60px"},itemCategory:{width:"100%",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},itemCategoryAbsolute:{position:"absolute",top:0},itemActiveItem:{color:e.palette.secondary.main},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},expansionPanel:{borderRadius:"0 !important",padding:"0 !important",margin:"0 !important",backgroundColor:e.palette.background.secondary},expansionPanelSummary:{margin:"0 !important",padding:"0 16px 0px 0 !important"},expansionPanelSummaryContainer:{padding:"0 !important",margin:"0 !important"},expandIcon:{color:"rgba(255, 255, 255, 0.7)"},divider:{boxShadow:"0 -1px 0 #404854 inset"}})}))((function(e){var t=e.classes,a=e.children,n=e.icon,o=e.text,i=e.navLink,c=e.active,l=e.expandable,s=e.defaultExpanded,u=function(e){return i?r.a.createElement(d.b,{to:i},e):r.a.createElement(r.a.Fragment,null,e)};return l?r.a.createElement(ye.a,{className:Object(N.a)(t.expansionPanel,t.divider),defaultExpanded:s},r.a.createElement(Se.a,{"aria-controls":"additional-actions1-content","aria-label":"Expand",classes:{content:t.expansionPanelSummaryContainer,expandIcon:t.expandIcon},className:t.expansionPanelSummary,expandIcon:r.a.createElement(Ee.a,null),id:"additional-actions1-header"},r.a.createElement("div",{className:t.itemCategoryWrapper}),u(r.a.createElement(pe.a,{button:!0,className:Object(N.a)(t.item,t.itemCategory,c&&t.itemActiveItem,t.itemCategoryAbsolute)},n&&r.a.createElement(Oe.a,{className:t.itemIcon},n),o&&r.a.createElement(je.a,{classes:{primary:t.itemPrimary}},o)))),a&&r.a.createElement(De.a,null,a)):u(r.a.createElement(pe.a,{button:!0,className:Object(N.a)(t.item,t.itemCategory,c&&t.itemActiveItem,t.divider)},n&&r.a.createElement(Oe.a,{className:t.itemIcon},n),o&&r.a.createElement(je.a,{classes:{primary:t.itemPrimary}},o)))}))),we=a(646),Ce=a(647),Te=a(648);var xe=Object(L.a)((function(e){return Object(R.a)({cards:{maxWidth:936,width:"100%"},media:{height:140}})}))((function(e){var t=e.classes,a=e.room;return r.a.createElement(we.a,{className:t.cards},a.roomImage&&r.a.createElement(Ce.a,{className:t.media,image:a.roomImage,title:"Room image"}),r.a.createElement(Te.a,null,r.a.createElement(M.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.roomName),r.a.createElement(M.a,{gutterBottom:!0,variant:"h6",component:"h6"},a.campaignTitle),r.a.createElement(M.a,{variant:"body2",color:"textSecondary",component:"p"},a.description),r.a.createElement("p",null,r.a.createElement(M.a,{variant:"caption",color:"textSecondary",component:"span"},"Max players:")," ",r.a.createElement(M.a,{color:"textSecondary",variant:"h6",component:"span"},a.maxPlayers)),r.a.createElement("p",null,r.a.createElement(M.a,{variant:"caption",color:"textSecondary",component:"span"},"Room Game Master:"),r.a.createElement("br",null),r.a.createElement(M.a,{variant:"subtitle1",color:"textSecondary",component:"span"},a.gameMaster.displayName))))}));var Ae=Object(L.a)((function(e){return Object(R.a)({logo:{fontSize:24,color:e.palette.common.white,"&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"},backgroundColor:e.palette.background.secondary,boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})}))((function(e){var t=e.classes,a=Object(ne.a)(e,["classes"]),n=Object(u.useSelector)(ge.a.match).path,o=Object(u.useSelector)(he.a.selectedRoom),i=Object(u.useSelector)(j.a.drawerOpened);return r.a.createElement(ie.a,Object.assign({open:i,variant:n===x.a.ROOMS_PATH_ID?"persistent":"permanent"},a),r.a.createElement(fe.a,{disablePadding:!0},r.a.createElement(pe.a,{className:t.logo},"Roll a Dice...")),r.a.createElement(Re,{navLink:x.a.HOME_PATH,icon:r.a.createElement(ue.a,null),text:"HomePage Page",active:x.a.HOME_PATH===n}),r.a.createElement(Re,{navLink:x.a.ROOMS_PATH,icon:r.a.createElement(de.a,null),text:"Rooms",expandable:-1===n.indexOf(x.a.ROOMS_PATH),active:n.indexOf(x.a.ROOMS_PATH)>-1},r.a.createElement(r.a.Fragment,null,"List here")),r.a.createElement(Re,{navLink:x.a.CHATS_PATH,icon:r.a.createElement(oe.a,null),text:"Chats",expandable:-1===n.indexOf(x.a.CHATS_PATH),active:n.indexOf(x.a.CHATS_PATH)>-1},r.a.createElement(be.a,{viewType:be.b.EMBEDDED})),o&&r.a.createElement(Re,{icon:r.a.createElement(le.a,null),text:"Room Ditails",expandable:!0,active:n.indexOf(x.a.ROOM_PATH)>-1,defaultExpanded:!0},r.a.createElement(xe,{room:o})))})),ke=a(19);var _e=function(){var e=Object(l.a)({palette:{primary:{light:"#afaf4c",main:"#9b9c20",dark:"#6c6d16"},secondary:{light:"#cba234",main:"#be8b02",dark:"#856101"},background:{default:"#e0e0d3",paper:"#f4f4f2",secondary:"#111b0e"}},typography:{fontFamily:["ringbearermedium","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});return e=Object(ke.a)({},e,{overrides:{MuiDrawer:{paper:{backgroundColor:"#121b0f"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:e.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:e.palette.common.white}},MuiTab:{root:Object(ae.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},e.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:e.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:e.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}})}(),Ne=(Object(ke.a)({},_e,{palette:Object(ke.a)({},_e.palette,{type:"dark"})}),Object(ke.a)({},_e,{palette:Object(ke.a)({},_e.palette,{type:"dark"})}),Object(R.a)({drawer:Object(ae.a)({},_e.breakpoints.up("sm"),{flexShrink:0,width:"100%",maxWidth:320,transition:"max-width 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"})}));var Pe=Object(L.a)(Ne)((function(e){var t=e.classes,a=e.mobileOpen,n=Object(u.useSelector)(j.a.drawerOpened);return r.a.createElement("nav",{className:t.drawer,style:{maxWidth:n?320:0}},r.a.createElement(B.a,{smUp:!0,implementation:"js"},r.a.createElement(Ae,{PaperProps:{style:{width:320}},variant:"temporary",open:a,onClose:e.handleDrawerToggle})),r.a.createElement(B.a,{xsDown:!0,implementation:"css"},r.a.createElement(Ae,{PaperProps:{style:{width:320}}})))}));function Ie(){return r.a.createElement(M.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(I.a,{color:"inherit",href:"mailto:markky21@gmail.com"},"Marcin Mirecki")," ",(new Date).getFullYear(),".")}var Me=Object(R.a)({root:{display:"flex",minHeight:"100vh"},lineLoader:{position:"fixed",height:"4px",top:0,left:0,width:"100%",zIndex:1e4,transition:"max-height 0.2s ease;"},app:{flex:1,display:"flex",flexDirection:"column",maxWidth:"100vw",overflow:"hidden"},appWhenAuth:{maxWidth:"calc(100vw - ".concat(_e.spacing(40),")")},main:{flex:1,padding:_e.spacing(6,4),background:_e.palette.background.default},footer:{padding:_e.spacing(1),background:_e.palette.background.default}});var Le=Object(L.a)(Me)((function(e){var t=e.classes,a=e.children,n=r.a.useState(!1),o=Object(_.a)(n,2),i=o[0],c=o[1],l=Object(u.useSelector)(h.a.isAuthenticated),m=Object(u.useSelector)(h.a.authenticatingSelector),d=Object(u.useSelector)(h.a.isRequesting),f=function(){c(!i)};return r.a.createElement(s.a,{theme:_e},r.a.createElement(te,{isAuthenticating:m},r.a.createElement("div",{className:t.root},r.a.createElement(P.a,null),r.a.createElement(U.a,{in:d,direction:"down"},r.a.createElement(H.a,{className:t.lineLoader})),l&&r.a.createElement(Pe,{mobileOpen:i,handleDrawerToggle:f}),r.a.createElement("div",{className:Object(N.a)(t.app,l&&t.appWhenAuth)},r.a.createElement(Q,{onDrawerToggle:f}),r.a.createElement("main",{className:t.main},a),r.a.createElement("footer",{className:t.footer},r.a.createElement(Ie,null))))))})),Ue=(a(544),a(632)),He=a(259);var Fe=Object(L.a)((function(e){return Object(R.a)({root:{width:"100%"},paper:{padding:e.spacing(2,4),height:"100%"},label:{textAlign:"center"},value:{lineHeight:"70%",textAlign:"center"}})}))((function(e){var t=e.classes,a=Object(u.useSelector)(h.a.applicationStats),n=[{label:"Players:",value:(null===a||void 0===a?void 0:a.players)||0},{label:"Rooms created:",value:(null===a||void 0===a?void 0:a.rooms)||0},{label:"Dice throws:",value:(null===a||void 0===a?void 0:a.diceThrows)||0}];return r.a.createElement($.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",spacing:4,className:t.root},n.map((function(e,a){return r.a.createElement(Ue.a,{key:e.label,in:!0,timeout:300*a+300},r.a.createElement($.a,{item:!0,xs:4},r.a.createElement(He.a,{className:t.paper},r.a.createElement(M.a,{component:"h5",variant:"h5",color:"textSecondary",className:t.label},e.label),r.a.createElement(M.a,{component:"div",variant:"h1",className:t.value},e.value))))})))})),$e=a(7),Be=a(356),We=a(355),ze=a(112),Ge=a(663),Ve=Object(C.a)((function(e){return{root:{position:"relative",margin:e.spacing(-4,-2),height:"calc(100% + ".concat(e.spacing(10),"px)")},cssGrid:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",rowGap:"".concat(e.spacing(2),"px"),columnGap:"".concat(e.spacing(2),"px")},cssItem1:{gridColumn:1,gridRow:1},cssItem2:{gridColumn:1,gridRow:2},mainInfoCard:{},diceCard:{},diceDashboard:{position:"fixed",zIndex:1e3,bottom:e.spacing(8),right:e.spacing(3)}}})),Ye={diceType:[$e.a.D4,$e.a.D6,$e.a.D8,$e.a.D10,$e.a.D12,$e.a.D20,$e.a.D100],gameMasterAvatar:"".concat("/roll-a-dice","/assets/images/avatar-1.jpg")};function Je(e){var t=Ve(),a=Object(u.useSelector)(j.a.diceRolling),o=Object(n.useState)(!1),i=Object(_.a)(o,2),c=i[0],l=i[1];return Object(n.useEffect)((function(){Object(Ge.a)(300).subscribe((function(){return l(!0)}))}),[]),r.a.createElement("div",{className:Object(N.a)(t.root,t.cssGrid)},r.a.createElement("section",{className:Object(N.a)(t.mainInfoCard,t.cssGrid)},r.a.createElement(Fe,null)),r.a.createElement(ze.b,null,r.a.createElement("nav",{className:t.diceDashboard},r.a.createElement(We.a,{visible:!a,room:Ye})),r.a.createElement("section",{className:t.diceCard},c&&r.a.createElement(Be.a,null))))}var Xe=a(267),qe={applicationStats:{path:"applicationStats",storeAs:"applicationStats"}};var Ke={path:"/",component:function(e){var t=e.match,a=Object(u.useDispatch)(),o=Object(u.useSelector)(ge.a.match);return Object(m.useFirebaseConnect)([qe.applicationStats]),Object(n.useEffect)((function(){JSON.stringify(t)!==JSON.stringify(o)&&a(Xe.a.matchChange(t))})),r.a.createElement(Je,null)}},Qe=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(7)]).then(a.bind(null,734))})),Ze={path:[x.a.ROOMS_PATH_ID],component:Qe},et=r.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,735))})),tt={path:[x.a.ROOM_CREATE_PATH,x.a.ROOMS_PATH],component:et},at=Object(C.a)((function(e){return Object(R.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function nt(){var e=at();return r.a.createElement(Le,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(w.a,{className:e.backdrop,open:!0})},r.a.createElement(T.c,null,r.a.createElement(T.a,{exact:!0,path:Ke.path,component:Ke.component}),[tt,Ze,k].map((function(e,t){return r.a.createElement(T.a,Object.assign({key:"Route-".concat(t)},e))})))))}var rt=a(116),ot=a.n(rt),it=(a(573),a(575),a(577),a(193)),ct=a(120),lt={firebase:ot.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:ct.a.dispatch,createFirestoreInstance:it.createFirestoreInstance};function st(e){var t=Object(c.a)("(prefers-color-scheme: dark)"),a=r.a.useMemo((function(){return Object(l.a)({palette:{type:t?"dark":"light"}})}),[t]);return window.theme=a,r.a.createElement(u.Provider,{store:ct.a},r.a.createElement(m.ReactReduxFirebaseProvider,lt,r.a.createElement(s.a,{theme:a},r.a.createElement(D,null,r.a.createElement(d.a,null,r.a.createElement(nt,null))))))}Object(rt.initializeApp)({apiKey:"AIzaSyA0bXhCXcLJC9FGk3ynZoJP5KJ6CY3sqYY",authDomain:"roll-a-dice-4cba1.firebaseapp.com",databaseURL:"https://roll-a-dice-4cba1.firebaseio.com",projectId:"roll-a-dice-4cba1",storageBucket:"roll-a-dice-4cba1.appspot.com",messagingSenderId:"768622256477",appId:"1:768622256477:web:51a5c9f0ef4030d366c8b4",measurementId:"G-J2M3QQ0M89"}),Object(rt.firestore)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=a(369);window.version=ut.a,window.env="local",i.a.render(r.a.createElement(st,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={selectedRoomUid:function(e){return e.rooms.selectedRoom||null},drawerOpened:function(e){return e.rooms.drawerOpened},chatOpened:function(e){return e.rooms.chatOpened},playersOpened:function(e){return e.rooms.playersOpened},diceRolling:function(e){return e.rooms.diceRolling}}},7:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.D4="d4",e.D6="d6",e.D8="d8",e.D10="d10",e.D12="d12",e.D20="d20",e.D100="d100"}(n||(n={}))},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(19),r={userChats:function(e){return e.firestore.data.userChats},getChat:function(e){return function(t){return e&&t.firestore.data.userChats?t.firestore.data.userChats[e]:null}},selectedRoom:function(e){return e.firestore.data.selectedRoom},selectedRoomFormData:function(e){if(e.firestore.data.selectedRoom){var t=e.firestore.data.selectedRoom;return{roomName:t.roomName,diceType:t.diceType,description:t.description,roomImage:t.roomImage,gameMasterAvatar:t.gameMasterAvatar,campaignTitle:t.campaignTitle,maxPlayers:t.maxPlayers}}},userRoomsAsGameMaster:function(e){return e.firestore.data.userRoomsAsGameMaster},userRoomsAsPlayer:function(e){return e.firestore.data.userRoomsAsPlayer},allUserRoomsUid:function(e){return Object.keys(Object(n.a)({},e.firestore.data.userRoomsAsGameMaster,{},e.firestore.data.userRoomsAsPlayer))},usersProfiles:function(e){return e.firestore.data.usersProfiles||{}},selectedRoomPlayers:function(e){var t,a=e.firestore.data.usersProfiles||{};return((null===(t=e.firestore.data.selectedRoom)||void 0===t?void 0:t.players)||[]).map((function(e){return a[e]})).filter((function(e){return!!e}))},selectedRoomGameMasterProfile:function(e){var t,a=e.firestore.data.usersProfiles||{},n=null===(t=e.firestore.data.selectedRoom)||void 0===t?void 0:t.gameMaster.uid;return a&&n?a[n]:null}}}},[[388,3,4]]]);
//# sourceMappingURL=main.060f6cab.chunk.js.map