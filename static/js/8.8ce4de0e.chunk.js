(this["webpackJsonproll-a-dice"]=this["webpackJsonproll-a-dice"]||[]).push([[8],{716:function(e,t,a){"use strict";a.r(t);var r=a(48),n=a(666),o=a(278),i=a(0),l=a.n(i),c=a(401),s=a(5),d=a(35),m=a(616),u=a(668),f=a(12),p=a(36),g=a(772),h=a.n(g),b=a(773),v=a.n(b),O=a(613),y=a(667),j=a(608);var E=Object(s.a)((function(e){return Object(c.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},block:{display:"block"},searchInput:{fontSize:e.typography.fontSize}})}))((function(e){var t=e.classes,a=e.onNewMessage,r=Object(i.useState)(""),n=Object(p.a)(r,2),o=n[0],c=n[1],s=function(e){e.preventDefault(),o.length&&(a(o),c(""))};return l.a.createElement("form",{onSubmit:function(e){return s(e)}},l.a.createElement(y.a,null,l.a.createElement(u.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(u.a,{item:!0},l.a.createElement(h.a,{className:t.block,color:"inherit"})),l.a.createElement(u.a,{item:!0,xs:!0},l.a.createElement(O.a,{id:"ChatInputBox",fullWidth:!0,placeholder:"Type message..",InputProps:{disableUnderline:!0,className:t.searchInput},onChange:function(e){return c(e.target.value)},value:o})),l.a.createElement(u.a,{item:!0},l.a.createElement("label",{htmlFor:"ChatInputBox"},l.a.createElement(j.a,{color:"primary","aria-label":"send message",component:"span",onClick:function(e){return s(e)}},l.a.createElement(v.a,{className:t.block,color:"inherit"})))))))})),x=a(1),C=a(3),S=(a(2),a(4)),w=a(8),k=i.forwardRef((function(e,t){var a=e.anchorOrigin,r=void 0===a?{vertical:"top",horizontal:"right"}:a,n=e.badgeContent,o=e.children,l=e.classes,c=e.className,s=e.color,d=void 0===s?"default":s,m=e.component,u=void 0===m?"span":m,f=e.invisible,p=e.max,g=void 0===p?99:p,h=e.overlap,b=void 0===h?"rectangle":h,v=e.showZero,O=void 0!==v&&v,y=e.variant,j=void 0===y?"standard":y,E=Object(C.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),k=f;null==f&&(0===n&&!O||null==n&&"dot"!==j)&&(k=!0);var R="";return"dot"!==j&&(R=n>g?"".concat(g,"+"):n),i.createElement(u,Object(x.a)({className:Object(S.a)(l.root,c),ref:t},E),o,i.createElement("span",{className:Object(S.a)(l.badge,l["".concat(r.horizontal).concat(Object(w.a)(r.vertical),"}")],l["anchorOrigin".concat(Object(w.a)(r.vertical)).concat(Object(w.a)(r.horizontal)).concat(Object(w.a)(b))],"default"!==d&&l["color".concat(Object(w.a)(d))],k&&l.invisible,"dot"===j&&l.dot)},R))})),R=Object(s.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(k),I=a(760),N=a(611),T=a(670),z=a(695),W=a(671),L=a(138),M=a(664),B=a(285),$=Object(s.a)((function(e){return Object(c.a)({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})}))(R);var P=Object(s.a)((function(e){return Object(c.a)({root:{width:"100%",backgroundColor:e.palette.background.paper,overflowY:"scroll"},inline:{display:"inline"}})}))((function(e){var t=e.classes,a=e.chat,r=e.usersProfiles,n=e.listStyles,o=Object(i.useRef)(null);return Object(i.useEffect)((function(){o&&o.current&&(o.current.scrollTop=o.current.scrollHeight)})),o&&o.current&&(o.current.scrollTop=o.current.scrollHeight),l.a.createElement(M.a,{ref:o,style:n,className:t.root},a&&a.messages.length?null===a||void 0===a?void 0:a.messages.map((function(e,t){var a=r[e.uid]||{},n=a.displayName,o=a.photoURL,i=a.avatarUrl,c=a.connected;return l.a.createElement(l.a.Fragment,{key:e.createdAt},!!t&&l.a.createElement(I.a,{variant:"inset",component:"li",light:!0}),l.a.createElement(N.a,{alignItems:"flex-start"},l.a.createElement(T.a,null,c?l.a.createElement($,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},l.a.createElement(z.a,{alt:n,src:i||o})):l.a.createElement(z.a,{alt:n,src:i||o})),l.a.createElement(W.a,{primary:l.a.createElement(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},l.a.createElement(L.a,{component:"span",variant:"body1"},n),l.a.createElement(L.a,{component:"span",variant:"caption",color:"textSecondary"},B.a.timeStampToDetailedTime(e.createdAt))),secondary:e.content})))})):"")})),A=a(191),D=a(38),F=a(88),H=a(60),U=a(91);t.default=Object(s.a)((function(e){return Object(c.a)({paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderTop:"1px solid rgba(0, 0, 0, 0.12)"},contentWrapper:{padding:"16px 16px",width:"100%"}})}))((function(e){var t=e.classes,a=e.height,c=void 0===a?"40vh":a,s=e.visible,p=void 0===s||s,g=Object(d.useFirestore)(),h=Object(f.useSelector)(A.a.selectedChat),b=Object(f.useSelector)(F.a.getChat(h))||null,v=Object(f.useSelector)(D.a.userProfile),O=Object(f.useSelector)(F.a.usersProfiles),y=Object(i.useContext)(U.b);return l.a.createElement(m.a,{direction:"up",in:p},l.a.createElement(o.a,{className:t.paper},l.a.createElement(u.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-end"},l.a.createElement("div",{className:t.contentWrapper},l.a.createElement(P,{chat:b,usersProfiles:O,listStyles:{height:c}})),l.a.createElement(n.a,{className:t.searchBar,position:"static",color:"default",elevation:0},l.a.createElement(E,{onNewMessage:function(e){return function(e){var t=g.doc("".concat(H.a.CHATS,"/").concat(h)),a={createdAt:Date.now().toString(),content:e,uid:v.uid};g.runTransaction((function(e){return e.get(t).then((function(n){var o=[].concat(Object(r.a)(n.data().messages),[a]);return e.update(t,{messages:o})})).catch((function(e){y.setSnackbarConfig({type:U.a.ERROR,open:!0,text:"Upss.. there was an error sending the message"})}))}))}(e)}})))))}))},760:function(e,t,a){"use strict";var r=a(1),n=a(3),o=a(0),i=(a(2),a(4)),l=a(5),c=a(28),s=o.forwardRef((function(e,t){var a=e.absolute,l=void 0!==a&&a,c=e.classes,s=e.className,d=e.component,m=void 0===d?"hr":d,u=e.flexItem,f=void 0!==u&&u,p=e.light,g=void 0!==p&&p,h=e.orientation,b=void 0===h?"horizontal":h,v=e.role,O=void 0===v?"hr"!==m?"separator":void 0:v,y=e.variant,j=void 0===y?"fullWidth":y,E=Object(n.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(m,Object(r.a)({className:Object(i.a)(c.root,s,"fullWidth"!==j&&c[j],l&&c.absolute,f&&c.flexItem,g&&c.light,"vertical"===b&&c.vertical),role:O,ref:t},E))}));t.a=Object(l.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(c.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},772:function(e,t,a){"use strict";var r=a(75);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(86)).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.default=o},773:function(e,t,a){"use strict";var r=a(75);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(86)).default)(n.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=o}}]);
//# sourceMappingURL=8.8ce4de0e.chunk.js.map